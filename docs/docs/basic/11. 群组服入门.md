---
title: ç¾¤ç»„æœå…¥é—¨
icon: mdi:server
createTime: 2026/02/05 00:59:50
permalink: /docs/basic/group-server/
foo: foo
tags:
    - è·¨æœ
    - å¤šæœåŠ¡å™¨æ ¸å¿ƒ
---

æƒ³è¦æ­å»ºåƒå—¨çš®å’³å—½ï¼ˆHypixelï¼‰é‚£æ ·çš„å°æ¸¸æˆæœåŠ¡å™¨å—ï¼Ÿæƒ³çŸ¥é“å—¨çš®å’³å—½æ˜¯æ€ä¹ˆåšåˆ°å¦‚æ­¤å¼ºå¤§çš„åˆ†åŒºç®¡ç†çš„å—ï¼Ÿæƒ³çŸ¥é“ä¸ºä»€ä¹ˆè¿™ç§æœåŠ¡å™¨çš„æ€§èƒ½ä¸ºä½•å¦‚æ­¤ä¼˜ç§€å—ï¼Ÿ!!ç®¡ä½ æƒ³ä¸æƒ³ï¼Œç»™ğŸ‘´æƒ³å°±å¯¹äº†!!

å¦‚æœè¦åªåšè¿™æ ·ä¸€ä¸ªå°æ¸¸æˆæœåŠ¡å™¨ï¼Œé‚£ä¹ˆè¿™é‡Œæˆ‘ä»¬å°±éœ€è¦äº†è§£åˆ°ä¸€ä¸ªå…¨æ–°çš„æ¦‚å¿µâ€”â€”ç¾¤ç»„æœã€‚

## ä»€ä¹ˆæ˜¯ç¾¤ç»„æœï¼Ÿ

### åŸºç¡€æ¦‚å¿µ

**ç¾¤ç»„æœ**ï¼ˆä¹Ÿç§°ä¸º**è·¨æœç«¯**ã€**ä»£ç†æœåŠ¡å™¨**ã€**BungeeCordç½‘ç»œ**ï¼‰æ˜¯ä¸€ç§MinecraftæœåŠ¡å™¨æ¶æ„ï¼Œå®ƒå…è®¸å¤šä¸ªç‹¬ç«‹çš„MinecraftæœåŠ¡å™¨ï¼ˆå­æœï¼‰è¿æ¥åœ¨ä¸€èµ·ï¼Œç©å®¶å¯ä»¥åœ¨è¿™äº›æœåŠ¡å™¨ä¹‹é—´æ— ç¼åˆ‡æ¢ï¼Œå°±åƒåœ¨ä¸€ä¸ªå¤§å‹æœåŠ¡å™¨ç½‘ç»œä¸­æ¸¸ç©ã€‚

### æŠ½è±¡æ¯”å–»

å¦‚æœä¸æ‡‚ï¼Œå°±å¯ä»¥è¯•ç€æƒ³è±¡ä¸€ä¸‹æŸä¸ªå¤§å‹è´­ç‰©ä¸­å¿ƒï¼š

- **ç¾¤ç»„æœï¼ˆä»£ç†ç«¯ï¼‰** = è´­ç‰©ä¸­å¿ƒçš„**æ€»å…¥å£å’Œå¯¼èˆªç³»ç»Ÿ**
- **å­æœåŠ¡å™¨** = è´­ç‰©ä¸­å¿ƒé‡Œçš„**å„ä¸ªå•†åº—**ï¼ˆæ¸¸æˆå¤§å…ã€ç”Ÿå­˜æœã€å°æ¸¸æˆæœç­‰ï¼‰
- **ç©å®¶** = **é¡¾å®¢**ï¼Œä»æ€»å…¥å£è¿›å…¥åå¯ä»¥è‡ªç”±è¿›å‡ºå„ä¸ªå•†åº—

ç©å®¶åªéœ€è¦è¿æ¥ä¸€ä¸ªIPåœ°å€ï¼ˆä»£ç†æœåŠ¡å™¨ï¼‰ï¼Œå°±èƒ½è®¿é—®æ•´ä¸ªæœåŠ¡å™¨ç½‘ç»œä¸­çš„æ‰€æœ‰å­æœã€‚

### åŸºæœ¬ç»“æ„ç¤ºæ„å›¾

```
ç©å®¶ (ä½ çš„å®¢æˆ·ç«¯)
       â†“
   è¿æ¥åˆ°åŒä¸€ä¸ªIP
       â†“
[ä»£ç†æœåŠ¡å™¨ - BungeeCord/Velocity]  â† è¿™æ˜¯ç©å®¶çœ‹åˆ°çš„å”¯ä¸€å…¥å£
       â†“
  åˆ†å‘åˆ°ä¸åŒå­æœ
       â†“
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
   â†“       â†“       â†“       â†“
[å¤§å…æœ] [ç”Ÿå­˜æœ] [å°æ¸¸æˆ] [åˆ›é€ æœ]
(lobby)  (survival) (games) (creative)
```

## ä¸ºä»€ä¹ˆéœ€è¦ç¾¤ç»„æœï¼Ÿ

### å•æœåŠ¡å™¨çš„å±€é™æ€§

~~è¿™ä¸åºŸè¯å—~~ï¼Ÿè‚¯å®šæ˜¯å•æœåŠ¡å™¨ä¸å¤Ÿç”¨å•¦~

å•æœåŠ¡å™¨å°±æ˜¯æˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„é‚£äº›æœåŠ¡å™¨æ ¸å¿ƒï¼ˆæœåŠ¡ç«¯ï¼‰ï¼Œä¾‹å¦‚Spigotã€Paperã€Purpurç­‰æ ¸å¿ƒï¼Œè€Œä¼ ç»Ÿçš„å•ä¸€MinecraftæœåŠ¡å™¨åˆ™**é¢ä¸´ä»¥ä¸‹é—®é¢˜**ï¼š

:::: card-grid
::: card title="æ€§èƒ½ç“¶é¢ˆ" icon="material-symbols:speed"
æ‰€æœ‰ç©å®¶ã€æ‰€æœ‰ä¸–ç•Œéƒ½è¢«æŒ¤åœ¨ä¸€ä¸ªæœåŠ¡å™¨è¿›ç¨‹ä¸­ï¼Œè¿™å°±å¯¼è‡´å¾ˆå®¹æ˜“å˜å¾—å¡é¡¿
:::
::: card title="ç®¡ç†å›°éš¾" icon="mdi:gear"
æ¥è‡ªå››é¢å…«æ–¹ã€é±¼é¾™æ··æ‚çš„ç©æ³•åŠŸèƒ½æ’ä»¶ã€æ¨¡ç»„è¢«æ··åˆåœ¨äº†ä¸€èµ·ï¼Œè€Œä½ åˆæ— æ³•å°†å®ƒä»¬å„ä¸ªç‹¬ç«‹æ‹†åˆ†å¼€æ¥ï¼Œæ‰€ä»¥æƒ³è¦ç®¡ç†è¿™äº›ç©æ³•åŠŸèƒ½å°±ä¼šå˜å¾—ååˆ†çš„å›°éš¾
:::
::: card title="ç»´æŠ¤é£é™©" icon="ix:maintenance"
å¦‚æœä½ é‡å¯æœåŠ¡å™¨ï¼Œå°±ä¼šå¯¼è‡´æ‰€æœ‰ç©å®¶è·Ÿç€ä½ ä¸€èµ·æ‰çº¿ï¼Œ~~æœ‰è¢«é—®å€™ç¥–å®—åå…«ä»£çš„é£é™©~~
:::
::: card title="æ‰©å±•å—é™" icon="clarity:plugin-solid-alerted"
åœ¨å•æœåŠ¡å™¨é‡Œï¼Œä½ è¿˜æƒ³è¦â€œçµæ´»â€ä¸¤ä¸ªå­—ï¼Ÿä¸å­˜åœ¨çš„äº‹æƒ…ï¼Œå•æœåŠ¡å™¨æ˜¯æ— æ³•çµæ´»æ·»åŠ æ–°çš„æ¸¸æˆæ¨¡å¼æ»´~
:::
::::

### ç¾¤ç»„æœçš„ä¼˜åŠ¿

ç›¸æ¯”ä¹‹ä¸‹ï¼Œç¾¤ç»„æœåœ¨å•æœåŠ¡å™¨ä¹‹ä¸Šå°±æœ‰å¾ˆå¤§çš„æå‡ï¼Œè€Œä¸”è¿˜æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†çš„è¿›æ­¥ç©ºé—´ï¼š

:::: card-grid
::: card title="æ€§èƒ½åˆ†æ•£" icon="ri:network-line"
æ¯ä¸ªå­æœç‹¬ç«‹è¿è¡Œï¼Œ==äº’ä¸å½±å“==ã€‚æ¯”å¦‚å°æ¸¸æˆæœå‡ºç°å¡é¡¿çš„æ—¶å€™å°±ä¸ä¼šå½±å“ç”Ÿå­˜æœ

ä½ è¿˜å¯ä»¥ç»™ä¸åŒå­æœåˆ†é…ä¸åŒçš„ç¡¬ä»¶èµ„æº
:::
::: card title="çµæ´»ç®¡ç†" icon="cil:camera-control"
- å¯ä»¥å•ç‹¬é‡å¯æŸä¸ªå­æœè€Œä¸å½±å“å…¶ä»–æœåŠ¡å™¨
- ä¸åŒå­æœå¯ä»¥è¿è¡Œä¸åŒçš„Minecraftç‰ˆæœ¬
- ä¾¿äºæµ‹è¯•æ–°æ’ä»¶ï¼ˆåœ¨æµ‹è¯•æœæµ‹è¯•åå†éƒ¨ç½²åˆ°æ­£å¼æœï¼‰
:::
::: card title="ç©æ³•å¤šæ ·åŒ–" icon="proicons:game"
è¿™æ˜¯ç¾¤ç»„æœçš„ä¸€å¤§ä¼˜åŠ¿ï¼Œä½ å¯ä»¥åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ç½‘ç»œä¸­æä¾›ï¼š
- ç”Ÿå­˜æœï¼ˆSurvivalï¼‰
- å°æ¸¸æˆæœï¼ˆèµ·åºŠæˆ˜äº‰ã€ç©ºå²›æˆ˜äº‰ç­‰ï¼‰
- åˆ›é€ æœï¼ˆCreativeï¼‰
- ç»ƒä¹ æœï¼ˆPracticeï¼‰
- æ´»åŠ¨æœï¼ˆEventsï¼‰
:::
::: card title="ç©å®¶ä½“éªŒæå‡" icon="material-symbols:group"
- ç©å®¶æ— éœ€è®°ä½å¤šä¸ªIPåœ°å€
- åˆ‡æ¢æœåŠ¡å™¨æ—¶ä¸éœ€è¦æ–­å¼€è¿æ¥é‡è¿
- è·¨æœèŠå¤©ã€å¥½å‹ç³»ç»Ÿç­‰ç¤¾äº¤åŠŸèƒ½

ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ çš„ç©å®¶ç”šè‡³è¿˜èƒ½å¾…åœ¨ä¸€ä¸ªç§å¯†çš„å­æœå†…å¹²!!ä½ æƒ³å¹²å˜›!!çš„äº‹æƒ…â€¦â€¦ğŸ˜Š
:::
::: card title="å•†ä¸šä»·å€¼" icon="qlementine-icons:money-16"
è¿™æ˜¯ç¾¤ç»„æœçš„æœ€å¤§ä¼˜åŠ¿ï¼Œç¾¤ç»„æœç›¸æ¯”å•æœåŠ¡å™¨ä¹‹ä¸‹ï¼š
- æ›´å®¹æ˜“å»ºç«‹å“ç‰Œï¼ˆä¸€ä¸ªç»Ÿä¸€çš„æœåŠ¡å™¨ç½‘ç»œå˜›ï¼Œè¿™ä¸ªæ²¡å¾—è¯´ï¼‰
- æ›´å®¹æ˜“è¿è¥æ´»åŠ¨ï¼ˆè·¨æœæ’è¡Œæ¦œã€å…¨æœå…¬å‘Šç­‰ç­‰ï¼‰
- èƒ½æé«˜ç©å®¶ç•™å­˜ç‡ï¼ˆå¯ä»¥æä¾›å¤šç§ç©æ³•è€Œæ»¡è¶³ä¸åŒéœ€æ±‚ï¼‰
:::
::::

## ç¾¤ç»„æœçš„å·¥ä½œåŸç†

### æŠ€æœ¯æ¶æ„

ç¾¤ç»„æœè·Ÿå•æœåŠ¡å™¨çš„åŒºåˆ«ä¹Ÿå°±åœ¨è¿™é‡Œäº†ï¼š==å®ƒä»¬çš„æŠ€æœ¯æ¶æ„æœ‰å¾ˆå¤§ä¸åŒ==

#### ä¸‰å±‚ç»“æ„

```
ã€ç©å®¶å±‚ã€‘
   â†“ (Minecraftåè®®)
ã€ä»£ç†å±‚ã€‘BungeeCord/Velocity
   â†“ (ä¿®æ”¹è¿‡çš„Minecraftåè®®)
ã€æœåŠ¡å™¨å±‚ã€‘Spigot/Paper å­æœåŠ¡å™¨
```

#### å·¥ä½œæµç¨‹

::: steps

1. **ç©å®¶è¿æ¥**

   ç©å®¶ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥åˆ°ä»£ç†æœåŠ¡å™¨çš„IPï¼Œä»£ç†æœåŠ¡å™¨æ¥æ”¶è¿æ¥è¯·æ±‚

2. **èº«ä»½éªŒè¯**

   ä»£ç†æœåŠ¡å™¨éªŒè¯ç©å®¶è´¦å·ï¼ˆæ­£ç‰ˆéªŒè¯æˆ–ç¦»çº¿æ¨¡å¼ï¼‰ï¼ŒéªŒè¯é€šè¿‡åç©å®¶è¿›å…¥ç½‘ç»œ

3. **åˆ†é…æœåŠ¡å™¨**

   æ ¹æ®é…ç½®ï¼Œå°†ç©å®¶ä¼ é€åˆ°é»˜è®¤æœåŠ¡å™¨ï¼ˆé€šå¸¸æ˜¯å¤§å…ï¼‰ï¼Œç©å®¶æ•°æ®å°±åœ¨ä»£ç†å±‚è¿›è¡Œç®¡ç†

4. **æœåŠ¡å™¨åˆ‡æ¢**

   ç©å®¶ä½¿ç”¨å‘½ä»¤æˆ–ç‚¹å‡»èœå•è¿›è¡Œåˆ‡æ¢æœåŠ¡å™¨çš„æ“ä½œåï¼Œä»£ç†æœåŠ¡å™¨å°±ä¼šå¤„ç†åˆ‡æ¢é€»è¾‘ï¼Œå°†ç©å®¶è¿æ¥è½¬ç§»åˆ°ç›®æ ‡å­æœã€‚åˆ‡æ¢è¿‡ç¨‹ä¸­ç©å®¶ä¸ä¼šæ–­å¼€è¿æ¥

5. **æ•°æ®ä¼ è¾“**

   ç©å®¶çš„æ‰€æœ‰æ•°æ®åŒ…ç»è¿‡ä»£ç†æœåŠ¡å™¨ä¸­è½¬ï¼Œä»£ç†å¯ä»¥æ‹¦æˆªã€ä¿®æ”¹æˆ–è½¬å‘è¿™äº›æ•°æ®åŒ…ï¼Œè¿™æ ·å°±èƒ½å®ç°è·¨æœèŠå¤©ã€æƒé™åŒæ­¥ç­‰åŠŸèƒ½

:::

### é‡è¦æ¦‚å¿µ <Badge type="important" text="é‡è¦" />

è®°ä½è¿™ä¸¤ä¸ªå…³é”®è¦ç‚¹ï¼š

:::: card-grid
::: card title="IPç»‘å®šæ¨¡å¼ï¼ˆIP Forwardingï¼‰"

ç”±äºæ‰€æœ‰ç©å®¶éƒ½æ˜¯ä»ä»£ç†æœåŠ¡å™¨è¿æ¥åˆ°å­æœï¼Œå­æœåŠ¡å™¨çœ‹åˆ°çš„ç©å®¶IPéƒ½æ˜¯ä»£ç†æœåŠ¡å™¨çš„IPã€‚ä¸ºäº†è·å–çœŸå®ç©å®¶IPï¼Œéœ€è¦å¯ç”¨IPè½¬å‘ï¼š

- **ä»£ç†ç«¯**ï¼šå°†çœŸå®IPä¿¡æ¯é™„åŠ åˆ°è¿æ¥æ•°æ®ä¸­
- **å­æœç«¯**ï¼šè¯»å–å¹¶è§£æè¿™äº›ä¿¡æ¯
- **å®‰å…¨æ€§**ï¼šå¿…é¡»æ­£ç¡®é…ç½®ï¼Œå¦åˆ™ä¼šæœ‰å®‰å…¨é£é™©
:::
::: card title="åœ¨çº¿æ¨¡å¼ï¼ˆOnline Modeï¼‰"

- **ä»£ç†æœåŠ¡å™¨è®¾ç½®**ï¼š`online-mode: true`ï¼ˆéªŒè¯æ­£ç‰ˆï¼‰æˆ– `false`ï¼ˆç¦»çº¿æ¨¡å¼ï¼‰
- **å­æœåŠ¡å™¨è®¾ç½®**ï¼šå¿…é¡»è®¾ç½®ä¸º `online-mode: false`
- **åŸå› **ï¼šç”±ä»£ç†æœåŠ¡å™¨ç»Ÿä¸€éªŒè¯ç©å®¶èº«ä»½ï¼Œå­æœä¿¡ä»»ä»£ç†çš„éªŒè¯ç»“æœ

:::
::::

## ä¸»æµç¾¤ç»„æœ

### 1. BungeeCord

**å¼€å‘è€…**ï¼šSpigotMCå›¢é˜Ÿ  
**å‘å¸ƒæ—¶é—´**ï¼š2012å¹´  
**å½“å‰çŠ¶æ€**ï¼šæˆç†Ÿç¨³å®šï¼Œä½¿ç”¨æœ€å¹¿æ³›

:::: card-grid
::: card title="ç‰¹ç‚¹" icon="material-symbols:star-rounded"
å†å²æœ€æ‚ ä¹…ï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œç”Ÿæ€ä¹Ÿæ˜¯æœ€å®Œå–„çš„ï¼Œæ”¯æŒçš„æ’ä»¶ä¹Ÿå¤šï¼Œç›¸å…³æ•™ç¨‹ä¹Ÿä¸°å¯Œ
:::
::: card title="é€‚ç”¨åœºæ™¯" icon="streamline-plump:world-remix"
- ä¸­å°å‹æœåŠ¡å™¨ç½‘ç»œ
- éœ€è¦å¤§é‡æ’ä»¶æ”¯æŒçš„æœåŠ¡å™¨
- é¢„ç®—æœ‰é™çš„æœä¸»
:::
::: card title="ç‰ˆæœ¬æ”¯æŒ"
æ”¯æŒ Minecraft 1.7.x è‡³æœ€æ–°ç‰ˆæœ¬ï¼ŒåŒä¸€ç½‘ç»œä¸­å­æœå¯ä»¥è¿è¡Œä¸åŒç‰ˆæœ¬
:::
::::

### 2. Velocity

**å¼€å‘è€…**ï¼šPaperMCå›¢é˜Ÿ  
**å‘å¸ƒæ—¶é—´**ï¼š2018å¹´  
**å½“å‰çŠ¶æ€**ï¼šç°ä»£åŒ–ã€é«˜æ€§èƒ½çš„æ›¿ä»£æ–¹æ¡ˆ

:::: card-grid
::: card title="ç‰¹ç‚¹" icon="material-symbols:star-rounded"
ç°ä»£åŒ–è®¾è®¡ï¼Œæ€§èƒ½æ›´å¥½ï¼Œè€Œä¸”æœ‰æ›´å¥½çš„å®‰å…¨æ€§ã€æ›´çµæ´»çš„æ’ä»¶APIå’Œæ›´å°‘çš„å†…å­˜å ç”¨
:::
::: card title="é€‚ç”¨åœºæ™¯" icon="streamline-plump:world-remix"
- å¤§å‹æœåŠ¡å™¨ç½‘ç»œï¼ˆ500+ç©å®¶ï¼‰
- è¿½æ±‚æè‡´æ€§èƒ½çš„æœåŠ¡å™¨
- æ–°å»ºæœåŠ¡å™¨ï¼ˆæ²¡æœ‰å†å²åŒ…è¢±ï¼‰
:::
::: card title="ç‰ˆæœ¬æ”¯æŒ"
æ”¯æŒ Minecraft 1.7.2 è‡³æœ€æ–°ç‰ˆæœ¬ï¼Œå¯¹æ–°ç‰ˆæœ¬æ”¯æŒæ›´å¿«
:::
::::

### 3. Waterfall <Badge type="warning" text="åœæ›´" />

**åŸºäº**ï¼šBungeeCord  
**å¼€å‘è€…**ï¼šPaperMCå›¢é˜Ÿ  
**å½“å‰çŠ¶æ€**ï¼šBungeeCordçš„ä¼˜åŒ–åˆ†æ”¯ï¼Œä½†å·²åœæ­¢æ›´æ–°æ”¯æŒ

:::: card-grid
::: card title="ç‰¹ç‚¹" icon="material-symbols:star-rounded"
å®Œå…¨å…¼å®¹BungeeCordæ’ä»¶ï¼Œä¸”æ€§èƒ½ä¼˜åŒ–å¥½ï¼Œæ¼æ´ä¿®å¤æ›´åŠæ—¶
:::
::: card title="é€‚ç”¨åœºæ™¯" icon="streamline-plump:world-remix"
- æƒ³è¦BungeeCordå…¼å®¹æ€§ + æ›´å¥½æ€§èƒ½
- ä»BungeeCordè¿ç§»çš„ä¸­é—´é€‰æ‹©
:::
::: card title="ç‰ˆæœ¬æ”¯æŒ"
å·²è¢«PaperMCå›¢é˜Ÿå¼ƒå‘ï¼Œä¸å†æ›´æ–°æ”¯æŒæ›´æ–°çš„Minecraftç‰ˆæœ¬
:::
::::

### å¯¹æ¯”è¡¨æ ¼

| ç‰¹æ€§ | BungeeCord | Waterfall | Velocity |
|------|------------|-----------|----------|
| æ€§èƒ½ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| æ’ä»¶ç”Ÿæ€ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ |
| å®‰å…¨æ€§ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| æ›´æ–°é€Ÿåº¦ | â­â­â­ | â­â­â­â­ | <Badge type="danger" text="åœæ›´" /> |
| æ–°æ‰‹å‹å¥½åº¦ | â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| æ–‡æ¡£å®Œå–„åº¦ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ |

### æ€ä¹ˆé€‰ï¼Ÿ

*å¤§éƒ¨åˆ†æœä¸»éƒ½æœ‰ä¸€ç§é€‰æ‹©å›°éš¾ç—‡ï¼Œå°¤å…¶æ˜¯å¯¹äºè¿™ç§ä¸ç†Ÿæ‚‰çš„é¢†åŸŸã€‚ä¸è¦çœ‹äº†ï¼Œè¯´çš„å°±æ˜¯ä½ ï¼*

å¦‚æœå®åœ¨æ˜¯ä¸çŸ¥é“æ€ä¹ˆé€‰ï¼Œå°±æŒ‰ç…§ä¸‹é¢çš„é€‰æ‹©æµç¨‹æŒ‡å¯¼æ¥é€‰ï¼š

**é€‰æ‹©BungeeCordï¼Œå¦‚æœä½ **ï¼š
- ç¬¬ä¸€æ¬¡æ­å»ºç¾¤ç»„æœ
- éœ€è¦ä½¿ç”¨å¤§é‡ç°æˆæ’ä»¶
- æœåŠ¡å™¨è§„æ¨¡è¾ƒå°ï¼ˆ<200äººï¼Œä¸ç”¨æƒ³éƒ½çŸ¥é“ä½ æ˜¯è¿™ç§ï¼‰

**é€‰æ‹©Waterfallï¼Œå¦‚æœä½ **ï¼š
- æƒ³è¦æ›´å¥½çš„æ€§èƒ½ä½†ä¿æŒå…¼å®¹æ€§
- ä»BungeeCordå‡çº§

**é€‰æ‹©Velocityï¼Œå¦‚æœä½ **ï¼š
- è¿½æ±‚æœ€ä½³æ€§èƒ½
- æœåŠ¡å™¨è§„æ¨¡è¾ƒå¤§
- æ„¿æ„å­¦ä¹ æ–°çš„æ’ä»¶å¼€å‘æ–¹å¼

## BungeeCordä¸“æ  - è¯¦è§£

### ä¸‹è½½ä¸å®‰è£…

::: steps

1. **ä¸‹è½½BungeeCord**

    è®¿é—®å®˜æ–¹ç½‘ç«™ï¼š[https://www.spigotmc.org/wiki/bungeecord/](https://www.spigotmc.org/wiki/bungeecord/)

    ```bash
    # ä½¿ç”¨wgetä¸‹è½½ï¼ˆLinuxï¼‰
    wget https://ci.md-5.net/job/BungeeCord/lastSuccessfulBuild/artifact/bootstrap/target/BungeeCord.jar

    # æˆ–ç›´æ¥ä»å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
    ```

2. **åˆ›å»ºæ–‡ä»¶å¤¹ç»“æ„**

    è·Ÿå•æœåŠ¡å™¨å¼€æœçš„æ­¥éª¤å·®ä¸å¤šï¼Œä½ ä¾æ—§éœ€è¦==åˆ›å»ºæ–‡ä»¶å¤¹==ï¼Œè¿™é‡Œç»™äº†ä¸€ä¸ªæ¯”è¾ƒå»ºè®®çš„æ–‡ä»¶å¤¹ç»“æ„ä¾›å¤§å®¶å‚è€ƒå­¦ä¹ ï¼š

    ::: file-tree

    - minecraft-network
      - proxy                    # ä»£ç†æœåŠ¡å™¨æ–‡ä»¶å¤¹
        - BungeeCord.jar
        - config.yml           # ä¸»é…ç½®æ–‡ä»¶
        - modules/             # æ¨¡å—æ–‡ä»¶å¤¹
        - plugins/             # æ’ä»¶æ–‡ä»¶å¤¹
      - lobby                   # å¤§å…æœåŠ¡å™¨
        - spigot.jar
        - server.properties
      - survival                # ç”Ÿå­˜æœåŠ¡å™¨
        - paper.jar
        - server.properties
      - minigames              # å°æ¸¸æˆæœåŠ¡å™¨
        - paper.jar
        - server.properties

    :::

3. **é¦–æ¬¡å¯åŠ¨**

    ```bash
    # è¿›å…¥ä»£ç†æœåŠ¡å™¨æ–‡ä»¶å¤¹
    cd proxy

    # å¯åŠ¨BungeeCordï¼ˆWindowsï¼‰
    java -Xms512M -Xmx512M -jar BungeeCord.jar

    # å¯åŠ¨BungeeCordï¼ˆLinuxï¼‰
    java -Xms512M -Xmx512M -jar BungeeCord.jar nogui
    ```

    é¦–æ¬¡å¯åŠ¨åä¼šç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œç„¶åè‡ªåŠ¨å…³é—­ã€‚

:::

### æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼šconfig.yml

#### å®Œæ•´é…ç½®ç¤ºä¾‹ä¸è¯¦è§£

```yaml
# ç›‘å¬å™¨é…ç½® - å®šä¹‰ä»£ç†æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å’Œè¡Œä¸º
listeners:
- query_port: 25577              # Queryåè®®ç«¯å£ï¼ˆæœåŠ¡å™¨åˆ—è¡¨æŸ¥è¯¢ï¼‰
  motd: '&6æˆ‘çš„ç¾¤ç»„æœåŠ¡å™¨'        # æœåŠ¡å™¨åˆ—è¡¨æ˜¾ç¤ºçš„MOTDï¼ˆæ”¯æŒé¢œè‰²ä»£ç ï¼‰
  priorities:                    # æœåŠ¡å™¨ä¼˜å…ˆçº§åˆ—è¡¨
  - lobby                        # ç©å®¶ç™»å½•åé»˜è®¤è¿›å…¥çš„æœåŠ¡å™¨
  bind_local_address: true       # ç»‘å®šåˆ°æœ¬åœ°åœ°å€
  ping_passthrough: false        # æ˜¯å¦å°†pingè¯·æ±‚è½¬å‘ç»™å­æœ
  query_enabled: false           # æ˜¯å¦å¯ç”¨Queryåè®®
  proxy_protocol: false          # æ˜¯å¦å¯ç”¨Proxy Protocol
  forced_hosts:                  # å¼ºåˆ¶åŸŸåç»‘å®šï¼ˆå¤šåŸŸåæŒ‡å‘ä¸åŒæœåŠ¡å™¨ï¼‰
    pvp.example.com: pvp         # å½“ç©å®¶ä½¿ç”¨pvp.example.comè¿æ¥æ—¶ï¼Œè¿›å…¥pvpæœåŠ¡å™¨
    lobby.example.com: lobby
  tab_size: 60                   # Tabåˆ—è¡¨æœ€å¤§ç©å®¶æ•°
  host: 0.0.0.0:25565           # ç›‘å¬åœ°å€å’Œç«¯å£
  max_players: 100              # æœ€å¤§ç©å®¶æ•°
  tab_list: GLOBAL_PING         # Tabåˆ—è¡¨æ¨¡å¼ï¼šGLOBAL_PING, SERVER, GLOBAL
  force_default_server: false   # æ˜¯å¦å¼ºåˆ¶ç©å®¶è¿›å…¥é»˜è®¤æœåŠ¡å™¨

# IPè½¬å‘è®¾ç½® - éå¸¸é‡è¦çš„å®‰å…¨é…ç½®
ip_forward: true                # æ˜¯å¦å¯ç”¨IPè½¬å‘ï¼ˆå¿…é¡»ä¸å­æœé…ç½®åŒ¹é…ï¼‰

# æƒé™è®¾ç½®
groups:
  admin:                        # ç®¡ç†å‘˜ç»„
    - bungeecord.command.alert
    - bungeecord.command.end
    - bungeecord.command.ip
    - bungeecord.command.reload
  default:                      # é»˜è®¤ç©å®¶ç»„
    - bungeecord.command.server
    - bungeecord.command.list

# è¿œç¨‹æ§åˆ¶å°ï¼ˆRConï¼‰è®¾ç½®
remote_console:
  enabled: false                # æ˜¯å¦å¯ç”¨RCon
  password: "your_password"     # RConå¯†ç 

# ç½‘ç»œè®¾ç½®
network_compression_threshold: 256  # æ•°æ®åŒ…å‹ç¼©é˜ˆå€¼ï¼ˆå­—èŠ‚ï¼‰
timeout: 30000                      # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
connection_throttle: 4000          # è¿æ¥èŠ‚æµæ—¶é—´ï¼ˆé˜²æ­¢é¢‘ç¹è¿æ¥ï¼‰
connection_throttle_limit: 3       # èŠ‚æµæ—¶é—´å†…æœ€å¤§è¿æ¥æ¬¡æ•°

# ç©å®¶æ•°æ®è®¾ç½®
player_limit: -1                   # å…¨å±€ç©å®¶é™åˆ¶ï¼ˆ-1ä¸ºæ— é™åˆ¶ï¼‰
prevent_proxy_connections: false   # æ˜¯å¦é˜»æ­¢é€šè¿‡ä»£ç†è¿æ¥çš„ç©å®¶

# åœ¨çº¿æ¨¡å¼ - æ­£ç‰ˆéªŒè¯
online_mode: true                  # true=æ­£ç‰ˆéªŒè¯ï¼Œfalse=ç¦»çº¿æ¨¡å¼ï¼ˆç›—ç‰ˆï¼‰

# æ—¥å¿—è®¾ç½®
log_commands: false               # æ˜¯å¦è®°å½•ç©å®¶å‘½ä»¤
log_pings: true                   # æ˜¯å¦è®°å½•pingè¯·æ±‚

# æœåŠ¡å™¨å®šä¹‰ - å®šä¹‰æ‰€æœ‰å­æœåŠ¡å™¨
servers:
  lobby:                          # æœåŠ¡å™¨åç§°ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
    motd: '&aæ¬¢è¿æ¥åˆ°å¤§å…'        # æœåŠ¡å™¨æè¿°
    address: localhost:25566      # æœåŠ¡å™¨åœ°å€ï¼ˆIP:ç«¯å£ï¼‰
    restricted: false             # æ˜¯å¦é™åˆ¶è®¿é—®ï¼ˆéœ€è¦æƒé™ï¼‰
  
  survival:
    motd: '&2ç”Ÿå­˜æœåŠ¡å™¨'
    address: localhost:25567
    restricted: false
  
  creative:
    motd: '&eåˆ›é€ æœåŠ¡å™¨'
    address: localhost:25568
    restricted: false
  
  minigames:
    motd: '&cå°æ¸¸æˆæœåŠ¡å™¨'
    address: localhost:25569
    restricted: false

# ç¦ç”¨çš„å‘½ä»¤åˆ—è¡¨
disabled_commands:
- disabledcommandhere

# ç»Ÿè®¡æ•°æ®ï¼ˆæ˜¯å¦å‘é€åŒ¿åç»Ÿè®¡ï¼‰
stats: true

# Forgeæ”¯æŒ
forge_support: false

# æ³¨å…¥å‘½ä»¤ï¼ˆè‡ªå®šä¹‰å‘½ä»¤åˆ«åï¼‰
aliases:
  server: "servers"  # å°†/serverå‘½ä»¤åˆ«åä¸º/servers
```

#### é‡è¦é…ç½®è¯´æ˜ <Badge type="important" text="é‡è¦" />

**1. online_modeï¼ˆåœ¨çº¿æ¨¡å¼ï¼‰**

```yaml
# æ­£ç‰ˆæœåŠ¡å™¨
online_mode: true

# ç¦»çº¿æœåŠ¡å™¨
online_mode: false
```

**è¿™æ®µä¸æ˜¯åºŸè¯ï¼Œå³ä½¿ä½ çŸ¥é“`online_mode`çš„ä½œç”¨ï¼Œä½ ä¹Ÿéœ€è¦æ³¨æ„**ï¼š
- ä»£ç†ç«¯ï¼šæŒ‰éœ€è®¾ç½®ï¼Œåˆ«ä¹±è®¾ç½®
- æ‰€æœ‰å­æœï¼šå¿…é¡»è®¾ç½® `online-mode=false`ï¼ˆåœ¨server.propertiesä¸­ï¼‰

**2. ip_forwardï¼ˆIPè½¬å‘ï¼‰**

```yaml
# ä»£ç†ç«¯ config.yml
ip_forward: true
```

```properties
# å­æœç«¯ server.properties
online-mode=false

# å­æœç«¯ spigot.yml æˆ– paper.yml
bungeecord: true
```

**3. serversï¼ˆæœåŠ¡å™¨åˆ—è¡¨ï¼‰**

```yaml
servers:
  æœåŠ¡å™¨ID:
    address: IP:ç«¯å£      # å­æœçš„å®é™…åœ°å€
    motd: æè¿°            # æœåŠ¡å™¨æè¿°
    restricted: false     # æ˜¯å¦éœ€è¦æƒé™æ‰èƒ½è¿›å…¥
```

### å¯åŠ¨è„šæœ¬

#### Windowså¯åŠ¨è„šæœ¬

```batch title="start.bat"
@echo off
title BungeeCordä»£ç†æœåŠ¡å™¨
java -Xms512M -Xmx1G -XX:+UseG1GC -jar BungeeCord.jar
pause
```

#### Linuxå¯åŠ¨è„šæœ¬

```bash title="start.sh"
#!/bin/bash
screen -dmS bungeecord java -Xms512M -Xmx1G -XX:+UseG1GC -jar BungeeCord.jar nogui
echo "BungeeCordå·²åœ¨screenä¼šè¯ä¸­å¯åŠ¨"
echo "ä½¿ç”¨ 'screen -r bungeecord' æŸ¥çœ‹æ§åˆ¶å°"
```

ä½¿ç”¨æ–¹æ³•ï¼š
```bash
chmod +x start.sh
./start.sh
```

## Velocityä¸“æ  - è¯¦è§£

### ä¸‹è½½ä¸å®‰è£…

::: steps

1. **ä¸‹è½½Velocity**

    è®¿é—®å®˜ç½‘ï¼š[https://papermc.io/downloads/velocity](https://papermc.io/downloads/velocity)

    ```bash
    # ä½¿ç”¨wgetä¸‹è½½ï¼ˆLinuxï¼‰
    wget https://api.papermc.io/v2/projects/velocity/versions/latest/builds/latest/downloads/velocity-latest.jar

    # é‡å‘½å
    mv velocity-*.jar velocity.jar
    ```

2. **é¦–æ¬¡å¯åŠ¨**

    ```bash
    java -Xms512M -Xmx512M -jar velocity.jar
    ```

    é¦–æ¬¡å¯åŠ¨ä¼šç”Ÿæˆé…ç½®æ–‡ä»¶å¹¶å…³é—­ã€‚

:::

### æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼švelocity.toml

Velocityä½¿ç”¨TOMLæ ¼å¼é…ç½®æ–‡ä»¶ï¼Œè¯­æ³•æ›´ç°ä»£åŒ–ã€‚

#### å®Œæ•´é…ç½®ç¤ºä¾‹

```toml
# Velocityé…ç½®æ–‡ä»¶ v2.0
# æ–‡æ¡£: https://docs.papermc.io/velocity/configuration

# é…ç½®ç‰ˆæœ¬ï¼ˆä¸è¦ä¿®æ”¹ï¼‰
config-version = "2.7"

# ç»‘å®šåœ°å€å’Œç«¯å£
bind = "0.0.0.0:25577"

# æœåŠ¡å™¨MOTD
motd = "&bVelocityæœåŠ¡å™¨ç½‘ç»œ\n&eæ¬¢è¿æ¸¸ç©ï¼"

# æœ€å¤§ç©å®¶æ•°
show-max-players = 500

# åœ¨çº¿æ¨¡å¼
online-mode = true

# æ˜¯å¦é˜»æ­¢å®¢æˆ·ç«¯çŠ¶æ€è¯·æ±‚
prevent-client-proxy-connections = false

# ç©å®¶ä¿¡æ¯è½¬å‘æ¨¡å¼
# none - ä¸è½¬å‘
# legacy - BungeeCordå…¼å®¹æ¨¡å¼
# modern - Velocityç°ä»£æ¨¡å¼ï¼ˆæ¨èï¼Œéœ€è¦Paper 1.13+ï¼‰
player-info-forwarding-mode = "modern"

# è½¬å‘å¯†é’¥ï¼ˆmodernæ¨¡å¼å¿…é¡»è®¾ç½®ï¼Œéœ€è¦ä¸å­æœé…ç½®ä¸€è‡´ï¼‰
forwarding-secret = "your-secret-key-here-change-this"

# å…¬å‘Šç³»ç»Ÿ
[announcements]
# æ˜¯å¦æ˜¾ç¤ºå…¬å‘Š
show-announcements = true

# æœåŠ¡å™¨å‹ç¼©è®¾ç½®
[compression]
# å‹ç¼©é˜ˆå€¼ï¼ˆ-1=ä½¿ç”¨Minecrafté»˜è®¤ï¼Œ0=ç¦ç”¨ï¼‰
threshold = 256
# å‹ç¼©çº§åˆ«ï¼ˆ-1åˆ°9ï¼Œ-1=é»˜è®¤ï¼‰
level = -1

# Queryåè®®è®¾ç½®
[query]
# æ˜¯å¦å¯ç”¨Query
enabled = false
# Queryç«¯å£
port = 25577
# æ˜¯å¦æ˜¾ç¤ºæ’ä»¶ä¿¡æ¯
show-plugins = false

# æœåŠ¡å™¨åˆ—è¡¨
[servers]

# å¤§å…æœåŠ¡å™¨
lobby = "127.0.0.1:25565"

# ç”Ÿå­˜æœåŠ¡å™¨
survival = "127.0.0.1:25566"

# å°æ¸¸æˆæœåŠ¡å™¨
minigames = "127.0.0.1:25567"

# å°è¯•è¿æ¥çš„æœåŠ¡å™¨é¡ºåº
try = [
    "lobby"
]

# å¼ºåˆ¶ä¸»æœºï¼ˆåŸŸåç»‘å®šï¼‰
[forced-hosts]
"lobby.example.com" = [
    "lobby"
]
"pvp.example.com" = [
    "minigames"
]

# é«˜çº§è®¾ç½®
[advanced]
# å‹ç¼©çº§åˆ«
compression-level = -1
# ç™»å½•è¶…æ—¶
login-ratelimit = 3000
# è¿æ¥è¶…æ—¶
connection-timeout = 5000
# è¯»å–è¶…æ—¶
read-timeout = 30000
# æ˜¯å¦å¯ç”¨HAProxyåè®®
haproxy-protocol = false
# TCPå¿«é€Ÿæ‰“å¼€
tcp-fast-open = false
# BungeeCordæ’ä»¶æ¶ˆæ¯é€šé“
bungee-plugin-message-channel = true
# æ˜¾ç¤ºpingè¯·æ±‚
show-ping-requests = false
# æ˜¯å¦åœ¨ä»£ç†åå¯åŠ¨
proxy-protocol = false
# ç½‘ç»œID
network-id = "Velocity"

[metrics]
# æ˜¯å¦å¯ç”¨bStatsç»Ÿè®¡
enabled = true
# ç»Ÿè®¡IDï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
id = "random-uuid-here"
# æ—¥å¿—å¤±è´¥
log-failure = false
```

### Velocityçš„ç°ä»£åŒ–è½¬å‘

Velocityçš„ç°ä»£åŒ–è½¬å‘æ¨¡å¼æ¯”BungeeCordçš„IPè½¬å‘æ›´å®‰å…¨ã€‚

#### é…ç½®æ­¥éª¤

::: steps

1. **ä»£ç†ç«¯é…ç½®ï¼ˆvelocity.tomlï¼‰**

    ```toml
    # å¯ç”¨ç°ä»£æ¨¡å¼
    player-info-forwarding-mode = "modern"

    # è®¾ç½®å¯†é’¥ï¼ˆå¿…é¡»æ˜¯å¼ºå¯†ç ï¼‰
    forwarding-secret = "your-very-secure-secret-key"
    ```

2. **å­æœç«¯é…ç½®ï¼ˆPaperï¼‰**

    ç¼–è¾‘ `config/paper-global.yml`ï¼ˆPaper 1.19+ï¼‰æˆ– `paper.yml`ï¼ˆæ—§ç‰ˆæœ¬ï¼‰ï¼š

    ```yaml
    proxies:
      velocity:
        enabled: true
        online-mode: true
        secret: "your-very-secure-secret-key"  # å¿…é¡»ä¸ä»£ç†ç«¯ä¸€è‡´
    ```

    ç¼–è¾‘ `server.properties`ï¼š

    ```properties
    online-mode=false
    ```

3. **ç”Ÿæˆå®‰å…¨å¯†é’¥**

    ```bash
    # Linuxç”Ÿæˆéšæœºå¯†é’¥
    openssl rand -base64 32

    # æˆ–ä½¿ç”¨Velocityè‡ªå¸¦å·¥å…·
    java -jar velocity.jar generateSecret
    ```

:::

### Velocityå¯åŠ¨è„šæœ¬

#### Linuxå¯åŠ¨è„šæœ¬

```bash title="start.sh"
#!/bin/bash
screen -dmS velocity java -Xms512M -Xmx1G -XX:+UseG1GC -XX:G1HeapRegionSize=4M -XX:+UnlockExperimentalVMOptions -XX:+ParallelRefProcEnabled -XX:+AlwaysPreTouch -jar velocity.jar
echo "Velocityå·²å¯åŠ¨"
```

## æ“ä½œæ¼”ç¤º

æ¥å§ï¼Œç°åœ¨è®©æˆ‘ä»¬ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªåŒ…å«å¤§å…æœå’Œç”Ÿå­˜æœçš„ç®€å•ç¾¤ç»„æœç½‘ç»œã€‚æ‰‹æŠŠæ‰‹æ•™ä½ çš„äº‹æƒ…ï¼Œæ”¾å¿ƒå°±å¥½äº†ã€‚

### å‡†å¤‡å·¥ä½œ

#### ç¡¬ä»¶éœ€æ±‚

é¦–å…ˆå¾—ç¡®ä¿ä½ çš„æœåŠ¡å™¨é…ç½®æ»¡è¶³ä»¥ä¸‹é…ç½®è¦æ±‚ï¼š

:::: card-grid
::: card title="æœ€ä½é…ç½®"
- CPUï¼š2æ ¸å¿ƒ
- å†…å­˜ï¼š4GB RAM
- ç¡¬ç›˜ï¼š20GB SSD
- ç½‘ç»œï¼š10Mbpsä¸Šä¼ 
:::
::: card title="æ¨èé…ç½®"
- CPUï¼š4æ ¸å¿ƒ+
- å†…å­˜ï¼š8GB+ RAM
- ç¡¬ç›˜ï¼š50GB+ SSD
- ç½‘ç»œï¼š50Mbps+ä¸Šä¼ 
:::
::::

#### è½¯ä»¶éœ€æ±‚

- Java 21ï¼ˆMinecraft 1.20.5+ï¼‰æˆ– Java 17ï¼ˆ1.18-1.20.4ï¼‰
- æ“ä½œç³»ç»Ÿï¼šWindows 10/11 æˆ– Linuxï¼ˆæ¨èUbuntu 22.04ï¼‰

### æ­¥éª¤ä¸€ï¼šä¸‹è½½å¿…è¦æ–‡ä»¶

1. **BungeeCord**ï¼š[https://ci.md-5.net/job/BungeeCord/](https://ci.md-5.net/job/BungeeCord/)
2. **Paper**ï¼ˆå­æœæ ¸å¿ƒï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–å•æœåŠ¡å™¨æ ¸å¿ƒï¼‰ï¼š[https://papermc.io/downloads/paper](https://papermc.io/downloads/paper)

è¿™é‡Œä½ éœ€è¦é€‰æ‹©ä¸ä½ æƒ³è¦çš„Minecraftç‰ˆæœ¬å¯¹åº”çš„Paperç‰ˆæœ¬ã€‚

### æ­¥éª¤äºŒï¼šåˆ›å»ºæ–‡ä»¶ç»“æ„

::: file-tree

- my-server-network
  - bungeecord # ä»£ç†æœåŠ¡å™¨æ–‡ä»¶å¤¹
    - BungeeCord.jar
  - lobby
    - paper.jar
  - survival
    - paper.jar

:::

### æ­¥éª¤ä¸‰ï¼šé…ç½®å­æœåŠ¡å™¨

::: steps

1. **å¯åŠ¨å¤§å…æœ**

    ```bash
    cd lobby
    java -Xmx2G -jar paper.jar nogui
    ```

    é¦–æ¬¡å¯åŠ¨åï¼š
    1. åŒæ„EULAï¼šç¼–è¾‘ `eula.txt`ï¼Œå°† `eula=false` æ”¹ä¸º `eula=true`
    2. é…ç½®ç«¯å£å’Œåœ¨çº¿æ¨¡å¼

    ç¼–è¾‘ `server.properties`ï¼š

    ```properties
    # ç«¯å£ï¼ˆæ¯ä¸ªå­æœå¿…é¡»ä¸åŒï¼‰
    server-port=25565

    # åœ¨çº¿æ¨¡å¼ï¼ˆå¿…é¡»å…³é—­ï¼‰
    online-mode=false

    # å…¶ä»–è®¾ç½®
    gamemode=adventure
    difficulty=peaceful
    spawn-protection=0
    max-players=100
    ```

    ç¼–è¾‘ `spigot.yml`ï¼š

    ```yaml
    settings:
      bungeecord: true  # å¯ç”¨BungeeCordæ”¯æŒ
    ```

    æˆ–ç¼–è¾‘ `config/paper-global.yml`ï¼ˆPaperæ–°ç‰ˆæœ¬ï¼‰ï¼š

    ```yaml
    proxies:
      bungee-cord:
        online-mode: true
    ```

    3. å†æ¬¡å¯åŠ¨æœåŠ¡å™¨

2. **é…ç½®ç”Ÿå­˜æœ**

    é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œä½†æ³¨æ„ï¼š

    ç¼–è¾‘ `server.properties`ï¼š

    ```properties
    server-port=25566  # ä¸åŒçš„ç«¯å£ï¼
    online-mode=false
    gamemode=survival
    difficulty=normal
    ```

    ç¼–è¾‘ `spigot.yml` æˆ– `paper-global.yml`ï¼ŒåŒæ ·å¯ç”¨BungeeCordæ”¯æŒã€‚

:::

### æ­¥éª¤å››ï¼šé…ç½®BungeeCord

è¿›å…¥bungeecordæ–‡ä»¶å¤¹ï¼Œé¦–æ¬¡å¯åŠ¨ï¼š

```bash
cd bungeecord
java -Xmx512M -jar BungeeCord.jar
```

å¯åŠ¨åä¼šç”Ÿæˆ `config.yml`ï¼Œç¼–è¾‘å®ƒï¼š

```yaml
listeners:
- query_port: 25577
  motd: '&6æˆ‘çš„ç¬¬ä¸€ä¸ªç¾¤ç»„æœ'
  priorities:
  - lobby  # ç©å®¶é»˜è®¤è¿›å…¥å¤§å…
  host: 0.0.0.0:25577  # ç©å®¶è¿æ¥çš„ç«¯å£
  max_players: 100

ip_forward: true  # å¯ç”¨IPè½¬å‘

online_mode: true  # æ­£ç‰ˆéªŒè¯ï¼ˆç›—ç‰ˆæ”¹ä¸ºfalseï¼‰

servers:
  lobby:
    address: localhost:25565  # å¤§å…æœåœ°å€
    motd: '&aå¤§å…æœåŠ¡å™¨'
    restricted: false
  
  survival:
    address: localhost:25566  # ç”Ÿå­˜æœåœ°å€
    motd: '&2ç”Ÿå­˜ä¸–ç•Œ'
    restricted: false
```

### æ­¥éª¤äº”ï¼šå¯åŠ¨æ•´ä¸ªç½‘ç»œ

#### å¯åŠ¨é¡ºåº

::: steps

1. **å…ˆå¯åŠ¨æ‰€æœ‰å­æœåŠ¡å™¨**
   ```bash
   # ç»ˆç«¯1 - å¤§å…æœ
   cd lobby
   java -Xmx2G -jar paper.jar nogui
   
   # ç»ˆç«¯2 - ç”Ÿå­˜æœ
   cd survival
   java -Xmx2G -jar paper.jar nogui
   ```

2. **ç­‰å¾…å­æœå®Œå…¨å¯åŠ¨åï¼Œå¯åŠ¨BungeeCord**
   ```bash
   # ç»ˆç«¯3 - BungeeCord
   cd bungeecord
   java -Xmx512M -jar BungeeCord.jar
   ```

3. **ç¡®è®¤BungeeCordæˆåŠŸè¿æ¥åˆ°å­æœ**

   åœ¨BungeeCordæ§åˆ¶å°åº”è¯¥çœ‹åˆ°ï¼š
   ```
   [INFO] Enabled plugin BungeeCord
   [INFO] Listening on /0.0.0.0:25577
   ```

:::

### æ­¥éª¤å…­ï¼šæµ‹è¯•è¿æ¥

1. æ‰“å¼€Minecraftå®¢æˆ·ç«¯
2. æ·»åŠ æœåŠ¡å™¨ï¼Œåœ°å€å¡«å†™ï¼š`localhost:25577`ï¼ˆæˆ–ä½ çš„æœåŠ¡å™¨IPï¼‰
3. è¿æ¥æœåŠ¡å™¨

å¦‚æœæˆåŠŸï¼Œä½ åº”è¯¥ï¼š
- è¿›å…¥å¤§å…æœåŠ¡å™¨
- å¯ä»¥ä½¿ç”¨ `/server survival` å‘½ä»¤åˆ‡æ¢åˆ°ç”Ÿå­˜æœ
- å¯ä»¥ä½¿ç”¨ `/server lobby` è¿”å›å¤§å…

### æ­¥éª¤ä¸ƒï¼šå®‰è£…è·¨æœæ’ä»¶ <Badge type="info" text="å¯é€‰" />

å¾ˆå¤šæ’ä»¶éƒ½æ˜¯æ”¯æŒç¾¤ç»„æœï¼ˆè·¨æœåŠŸèƒ½ï¼‰çš„ï¼Œè¿™é‡Œå¯ä»¥ç»™ä½ æ¨èä¸€äº›ï¼š

**åœ¨BungeeCordä¸Šå®‰è£…**ï¼š
- **LuckPerms**ï¼ˆç”¨æ¥è·¨æœæƒé™ç®¡ç†ï¼‰
- **BungeeTabListPlus**ï¼ˆç”¨æ¥è‡ªå®šä¹‰Tabåˆ—è¡¨ï¼‰
- **BungeeChat**ï¼ˆç”¨æ¥è·¨æœèŠå¤©ï¼‰

**åœ¨æ‰€æœ‰å­æœä¸Šå®‰è£…**ï¼š
- **LuckPerms**ï¼ˆç”¨æ¥é…åˆBungeeCordç‰ˆæœ¬ï¼‰
- **EssentialsX**ï¼ˆç”¨æ¥ç»™ä¸€äº›åŸºç¡€æŒ‡ä»¤ï¼‰

## å¸¸è§é…ç½®è¯´æ˜

### è·¨æœèŠå¤©

é»˜è®¤æƒ…å†µä¸‹ï¼Œç©å®¶åªèƒ½ä¸åŒä¸€å­æœçš„ç©å®¶èŠå¤©ï¼Œ==èŠå¤©ä¿¡æ¯åœ¨å„ä¸ªå­æœä¸­æ˜¯ç›¸äº’ç‹¬ç«‹åˆ†ç¦»å¼€æ¥çš„==ï¼Œæ— æ³•äº’é€šã€‚å¦‚æœä½ æƒ³è¦è¦å¯ç”¨è·¨æœèŠå¤©ï¼Œå°±éœ€è¦å®‰è£…è·¨æœèŠå¤©æ’ä»¶ã€‚è¿™é‡Œä»¥BungeeChatæ’ä»¶åšä¸ªæ“ä½œç¤ºèŒƒç»™å¤§å®¶æ¼”ç¤ºä¸€ä¸‹ï¼š

1. ä¸‹è½½BungeeChatæ’ä»¶
2. æ”¾å…¥ `bungeecord/plugins/` æ–‡ä»¶å¤¹
3. é‡å¯BungeeCord
4. ç¼–è¾‘é…ç½®æ–‡ä»¶ `plugins/BungeeChat/config.yml`

```yaml title="config.yml"
# å…¨å±€èŠå¤©
global-chat:
  enabled: true
  format: "&7[&aå…¨æœ&7] &r{player}: {message}"

# æœåŠ¡å™¨èŠå¤©
local-chat:
  enabled: true
  format: "&7[{server}] &r{player}: {message}"
```

### è·¨æœæƒé™ç®¡ç†

ä¹‹å‰çš„æ•™ç¨‹å·²ç»æ¨èè¿‡äº†LuckPermsï¼Œå°±æ˜¯å› ä¸ºå®ƒæœ‰ä¸€ä¸ªå¼ºå¤§çš„ç°ä»£åŒ–æ¨¡å—ï¼Œç°åœ¨å®ƒå°±è¢«æ´¾ä¸Šç”¨åœºäº†ï¼š**æ”¯æŒè·¨æœåŒæ­¥**ã€‚å¯ä»¥è¯´ï¼ŒLuckPermsæ˜¯ä¸€ä¸ªæœ€å¼ºå¤§çš„æƒé™ç®¡ç†æ’ä»¶ã€‚

åœ¨ç¾¤ç»„æœä¸Šå®‰è£…LuckPermsæ’ä»¶ä¹Ÿå¾ˆç®€å•ï¼Œ~~è¯·ä½ è·Ÿæˆ‘è¿™æ ·åš~~ï¼š

**1. åœ¨BungeeCordä¸Šå®‰è£…**

ä¸‹è½½LuckPermsçš„Bungeeç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯ `LuckPerms-Bungee.jar`ï¼Œå°†å®ƒæ”¾å…¥ `bungeecord/plugins/`

è¿™é‡Œç”¨ä¸€ä¸ªæ–‡ä»¶æ ‘ç»™å¤§å®¶åšä¸ªç›´è§‚ä¸€ç‚¹çš„æ¼”ç¤ºï¼š

::: file-tree

- my-server-network
  - bungeecord # ä»£ç†æœåŠ¡å™¨æ–‡ä»¶å¤¹
    - BungeeCord.jar
    - plugins # æ’ä»¶æ–‡ä»¶å¤¹
      - ++ LuckPerms-Bungee.jar
  - lobby
    - paper.jar
  - survival
    - paper.jar

:::

**2. åœ¨æ‰€æœ‰å­æœä¸Šå®‰è£…**

å†ä¸‹è½½LuckPermsçš„Bukkitç‰ˆæœ¬ï¼Œå³ `LuckPerms-Bukkit.jar`ï¼Œæ”¾å…¥æ¯ä¸ªå­æœçš„ `plugins/`

::: file-tree

- my-server-network
  - bungeecord
    - BungeeCord.jar
    - plugins
      - LuckPerms-Bungee.jar
  - lobby
    - plugins # æ’ä»¶æ–‡ä»¶å¤¹
      - ++ LuckPerms-Bungee.jar
    - paper.jar
  - survival
    - plugins # æ’ä»¶æ–‡ä»¶å¤¹
      - ++ LuckPerms-Bungee.jar
    - paper.jar

:::

**3. é…ç½®æ•°æ®åº“åŒæ­¥**

ç¼–è¾‘ `plugins/LuckPerms/config.yml`ï¼ˆæ‰€æœ‰æœåŠ¡å™¨éƒ½è¦é…ç½®ï¼‰ï¼š

```yaml title="config.yml"
# ä½¿ç”¨MySQLæ•°æ®åº“ï¼ˆæ¨èï¼‰
storage-method: mysql

data:
  address: localhost:3306
  database: minecraft
  username: root
  password: your_password
```

**4. ä½¿ç”¨ç½‘é¡µç•Œé¢ç®¡ç†æƒé™**

```bash
# åœ¨BungeeCordæ§åˆ¶å°æ‰§è¡Œ
lp editor
```

ä¼šç”Ÿæˆä¸€ä¸ªç½‘å€ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å³å¯å¯è§†åŒ–ç®¡ç†æƒé™ã€‚

### Tabåˆ—è¡¨ç¾åŒ–

æƒ³è¦ç»™Tabåˆ—è¡¨åšä¸ªå°å°çš„è£…é¥°ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™é‡Œä»¥BungeeTabListPlusæ’ä»¶åšä¸ªç¤ºèŒƒï¼š

1. ä¸‹è½½æ’ä»¶å¹¶å®‰è£…åˆ°BungeeCord
2. ç¼–è¾‘é…ç½® `plugins/BungeeTabListPlus/config.yml`

```yaml title="config.yml"
# æ˜¾ç¤ºæ‰€æœ‰ç©å®¶
showPlayersFromAllServers: true

# è‡ªå®šä¹‰å¤´éƒ¨
header:
  - "&6=== æˆ‘çš„æœåŠ¡å™¨ç½‘ç»œ ==="
  - "&eåœ¨çº¿ç©å®¶: &a{playersOnline}"

# è‡ªå®šä¹‰åº•éƒ¨
footer:
  - "&7å½“å‰æœåŠ¡å™¨: &b{server}"
  - "&7å»¶è¿Ÿ: &e{ping}ms"

# ç©å®¶åˆ—è¡¨æ ¼å¼
playerList:
  format: "&7{player}"
```

### æœåŠ¡å™¨åˆ‡æ¢èœå•

ä½¿ç”¨Deluxe Hubæ’ä»¶åˆ›å»ºå¯ç‚¹å‡»çš„æœåŠ¡å™¨åˆ‡æ¢èœå•ã€‚

1. åœ¨å¤§å…æœå®‰è£…DeluxeHub
2. é…ç½® `plugins/DeluxeHub/config.yml`

```yaml title="config.yml"
server-selector:
  enabled: true
  item:
    material: COMPASS
    name: "&aæœåŠ¡å™¨é€‰æ‹©"
    slot: 4  # ç‰©å“æ ç¬¬5æ ¼
  
  servers:
    survival:
      icon: GRASS_BLOCK
      name: "&2ç”Ÿå­˜æœåŠ¡å™¨"
      lore:
        - "&7ç‚¹å‡»è¿›å…¥ç”Ÿå­˜ä¸–ç•Œ"
    
    creative:
      icon: WOODEN_AXE
      name: "&eåˆ›é€ æœåŠ¡å™¨"
      lore:
        - "&7ç‚¹å‡»è¿›å…¥åˆ›é€ ä¸–ç•Œ"
```

## æ’ä»¶å¼€å‘ä¸å…¼å®¹æ€§

### BungeeCordæ’ä»¶å¼€å‘åŸºç¡€ <Badge type="tip" text="æ‹“å±•" />

è¿˜æƒ³å¼€å‘æ’ä»¶ï¼Ÿä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¦‚æœä½ æƒ³ä¸ºBungeeCordå¼€å‘è‡ªå®šä¹‰æ’ä»¶ï¼Œè¿™é‡Œå€’æ˜¯æœ‰ä¸€ä¸ªç®€å•ç¤ºä¾‹ã€‚

::: steps

1. **å¼€å‘ç¯å¢ƒæ­å»º**

    ä½¿ç”¨Mavenæˆ–Gradleæ„å»ºé¡¹ç›®ï¼Œçœ‹ä½ ä¹ æƒ¯ç”¨å“ªä¸ªå°±ç”¨å“ªä¸ªã€‚è¿™é‡Œç”¨Mavenåšä¸ªç¤ºèŒƒã€‚

    **pom.xml**ï¼ˆMavenï¼‰ï¼š

    ```xml title="pom.xml"
    <dependencies>
        <dependency>
            <groupId>net.md-5</groupId>
            <artifactId>bungeecord-api</artifactId>
            <version>1.19-R0.1-SNAPSHOT</version>
            <scope>provided</scope>
        </dependency>
    </dependencies>

    <repositories>
        <repository>
            <id>sonatype</id>
            <url>https://oss.sonatype.org/content/repositories/snapshots</url>
        </repository>
    </repositories>
    ```

2. **åˆ›å»ºæ’ä»¶ä¸»ç±»**

    ```java
    package com.example.myplugin;

    import net.md_5.bungee.api.plugin.Plugin;
    import net.md_5.bungee.api.ChatColor;
    import net.md_5.bungee.api.ProxyServer;

    public class MyPlugin extends Plugin {
        
        @Override
        public void onEnable() {
            // æ’ä»¶å¯ç”¨æ—¶æ‰§è¡Œ
            getLogger().info(ChatColor.GREEN + "æ’ä»¶å·²å¯åŠ¨ï¼");
            
            // æ³¨å†Œå‘½ä»¤
            getProxy().getPluginManager().registerCommand(this, new MyCommand());
        }
        
        @Override
        public void onDisable() {
            // æ’ä»¶ç¦ç”¨æ—¶æ‰§è¡Œ
            getLogger().info(ChatColor.RED + "æ’ä»¶å·²å…³é—­ï¼");
        }
    }
    ```

3. **åˆ›å»ºplugin.yml**

    ```yaml title="plugin.yml"
    name: MyPlugin
    version: 1.0
    main: com.example.myplugin.MyPlugin
    author: YourName
    description: æˆ‘çš„ç¬¬ä¸€ä¸ªBungeeCordæ’ä»¶
    ```

4. **è·¨æœä¼ é€ç¤ºä¾‹**

    ```java
    import net.md_5.bungee.api.CommandSender;
    import net.md_5.bungee.api.connection.ProxiedPlayer;
    import net.md_5.bungee.api.plugin.Command;

    public class MyCommand extends Command {
        
        public MyCommand() {
            super("hub");  // å‘½ä»¤åç§°
        }
        
        @Override
        public void execute(CommandSender sender, String[] args) {
            if (!(sender instanceof ProxiedPlayer)) {
                sender.sendMessage("æ­¤å‘½ä»¤åªèƒ½ç”±ç©å®¶æ‰§è¡Œï¼");
                return;
            }
            
            ProxiedPlayer player = (ProxiedPlayer) sender;
            
            // è·å–ç›®æ ‡æœåŠ¡å™¨
            ServerInfo lobby = ProxyServer.getInstance().getServerInfo("lobby");
            
            if (lobby == null) {
                player.sendMessage("Â§cé”™è¯¯ï¼šæ‰¾ä¸åˆ°å¤§å…æœåŠ¡å™¨ï¼");
                return;
            }
            
            // ä¼ é€ç©å®¶
            player.connect(lobby);
            player.sendMessage("Â§aæ­£åœ¨ä¼ é€åˆ°å¤§å…...");
        }
    }
    ```

:::

### å¸¸è§æ’ä»¶å…¼å®¹æ€§é—®é¢˜

#### 1. å­æœæ’ä»¶æ— æ³•è¯†åˆ«çœŸå®ç©å®¶æ•°æ®

**èŒƒä¾‹**ï¼šæŸäº›æ’ä»¶å¯èƒ½æ— æ³•æ­£ç¡®è¯»å–ç©å®¶ä¿¡æ¯ï¼Œå¤§æ¦‚ç‡æ˜¯å› ä¸ºé…ç½®é”™è¯¯è€Œå‡ºçš„é—®é¢˜ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿å­æœå·²æ­£ç¡®é…ç½®ï¼š
- `server.properties` ä¸­ `online-mode=false`
- `spigot.yml` ä¸­ `bungeecord: true`
- Paperé…ç½®ä¸­å¯ç”¨ä»£ç†æ”¯æŒ

#### 2. ç»æµæ’ä»¶ä¸è·¨æœåŒæ­¥

**èŒƒä¾‹**ï¼šç©å®¶åœ¨ä¸åŒçš„å­æœåŠ¡å™¨çš„é‡‘å¸ä½™é¢ä¸åŒæ­¥ï¼Œå³æ•°æ®ä¸åŒæ­¥ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨MySQLæ•°æ®åº“å­˜å‚¨ç»æµæ•°æ® or ä½¿ç”¨æ”¯æŒBungeeCordçš„ç»æµæ’ä»¶ï¼ˆå¦‚PlayerPointsã€TokenManagerï¼‰

#### 3. æƒé™åœ¨ä¸åŒæœåŠ¡å™¨ä¸ä¸€è‡´

**èŒƒä¾‹**ï¼šç©å®¶åœ¨ç”Ÿå­˜æœæœ‰ç®¡ç†å‘˜æƒé™ï¼Œä½†åœ¨å°æ¸¸æˆæœæ²¡æœ‰ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨LuckPermså¹¶é…ç½®MySQLåŒæ­¥ or åœ¨æ‰€æœ‰æœåŠ¡å™¨å®‰è£…LuckPermså¹¶è¿æ¥åŒä¸€æ•°æ®åº“

## å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰

### é—®é¢˜1ï¼šç©å®¶æ— æ³•è¿æ¥åˆ°ä»£ç†æœåŠ¡å™¨

**ç—‡çŠ¶**ï¼š<br>
â€œæ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨â€ï¼›â€œè¿æ¥è¶…æ—¶â€

**æ’æŸ¥æ­¥éª¤**ï¼š

1. **æ£€æŸ¥BungeeCordæ˜¯å¦æ­£åœ¨è¿è¡Œ**
   ```bash
   # Linux
   ps aux | grep BungeeCord
   
   # æŸ¥çœ‹ç«¯å£ç›‘å¬
   netstat -tlnp | grep 25577
   ```

2. **æ£€æŸ¥é˜²ç«å¢™**
   ```bash
   # Linux - å¼€æ”¾ç«¯å£
   sudo ufw allow 25577/tcp
   
   # Windows - åœ¨é˜²ç«å¢™è®¾ç½®ä¸­æ·»åŠ è§„åˆ™
   ```

3. **æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„bindåœ°å€**
   ```yaml title="config.yml"
   host: 0.0.0.0:25577  # ç¡®ä¿æ˜¯0.0.0.0ï¼Œä¸æ˜¯127.0.0.1
   ```

### é—®é¢˜2ï¼šåˆ‡æ¢æœåŠ¡å™¨å¤±è´¥

**ç—‡çŠ¶**ï¼š<br>
ä½¿ç”¨ `/server` å‘½ä»¤åæ–­å¼€è¿æ¥ï¼›å¡åœ¨â€œæ­£åœ¨è¿æ¥â€ç•Œé¢

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **ç¡®è®¤å­æœå·²å¯åŠ¨**
   - åœ¨BungeeCordæ§åˆ¶å°ä½¿ç”¨ `glist` æŸ¥çœ‹åœ¨çº¿æœåŠ¡å™¨

2. **æ£€æŸ¥å­æœé…ç½®**
   ```properties title="server.properties"
   # server.properties
   online-mode=false  # å¿…é¡»ä¸ºfalse
   ```

3. **æ£€æŸ¥ç½‘ç»œå¯è¾¾æ€§**
   ```bash
   # ä»BungeeCordæœåŠ¡å™¨pingå­æœ
   telnet localhost 25565
   ```

### é—®é¢˜3ï¼šç©å®¶çœ‹åˆ°"éªŒè¯å¤±è´¥"

**ç—‡çŠ¶**ï¼š<br>
â€œFailed to verify usernameâ€ï¼Œæ­£ç‰ˆç©å®¶æ— æ³•è¿›å…¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

ç¡®ä¿é…ç½®ä¸€è‡´ï¼š

```yaml title="config.yml"
# BungeeCord - config.yml
online_mode: true  # æ­£ç‰ˆéªŒè¯
ip_forward: true   # å¯ç”¨IPè½¬å‘
```

```properties title="server.properties"
# æ‰€æœ‰å­æœ - server.properties
online-mode=false  # å¿…é¡»å…³é—­
```

```yaml title="spigot.yml"
# æ‰€æœ‰å­æœ - spigot.yml æˆ– paperé…ç½®
bungeecord: true  # å¿…é¡»å¯ç”¨
```

### é—®é¢˜4ï¼šIPåœ°å€æ˜¾ç¤ºä¸ºä»£ç†æœåŠ¡å™¨IP

**ç—‡çŠ¶**ï¼š<br>
æ‰€æœ‰ç©å®¶IPæ˜¾ç¤ºä¸º127.0.0.1

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **å¯ç”¨IPè½¬å‘**
   ```yaml title="config.yml"
   # BungeeCord config.yml
   ip_forward: true
   ```

2. **å­æœå¯ç”¨BungeeCordæ¨¡å¼**
   ```yaml title="spigot.yml"
   bungeecord: true
   ```

3. **å¯¹äºVelocity**
   ä½¿ç”¨modernè½¬å‘æ¨¡å¼å¹¶é…ç½®å¯†é’¥

### é—®é¢˜5ï¼šè·¨æœæ•°æ®ä¸åŒæ­¥

**ç—‡çŠ¶**ï¼š
æƒé™åœ¨ä¸åŒæœåŠ¡å™¨ä¸ä¸€è‡´ï¼›ç»æµé‡‘å¸ä¸åŒæ­¥ï¼›ç©å®¶æ•°æ®ä¸¢å¤±

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **ä½¿ç”¨æ•°æ®åº“**

   æ‰€æœ‰éœ€è¦è·¨æœåŒæ­¥çš„æ’ä»¶éƒ½åº”ä½¿ç”¨MySQLï¼š

   ```yaml
   # LuckPermsé…ç½®ç¤ºä¾‹
   storage-method: mysql
   data:
     address: localhost:3306
     database: minecraft
     username: root
     password: password
   ```

2. **ç¡®ä¿æ‰€æœ‰æœåŠ¡å™¨è¿æ¥åŒä¸€æ•°æ®åº“**

3. **æ£€æŸ¥æ•°æ®åº“æƒé™**
   ```sql
   GRANT ALL PRIVILEGES ON minecraft.* TO 'minecraft'@'%';
   FLUSH PRIVILEGES;
   ```

### é—®é¢˜6ï¼šBungeeCordå¯åŠ¨åç«‹å³å´©æºƒ

**ç—‡çŠ¶**ï¼š<br>
å¯åŠ¨åå‡ ç§’å†…è‡ªåŠ¨å…³é—­ï¼Œæ§åˆ¶å°æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

**å¸¸è§åŸå› åŠè§£å†³**ï¼š

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æŸ¥çœ‹ç«¯å£å ç”¨
   netstat -ano | findstr 25577  # Windows
   lsof -i :25577                # Linux
   
   # æ€æ­»å ç”¨è¿›ç¨‹æˆ–æ›´æ¢ç«¯å£
   ```

2. **Javaç‰ˆæœ¬ä¸å…¼å®¹**
   ```bash
   # æ£€æŸ¥Javaç‰ˆæœ¬
   java -version
   
   # Minecraft 26.1+éœ€è¦Java 25
   # Minecraft 1.20.5-1.21.11éœ€è¦Java 21
   # Minecraft 1.18-1.20.4éœ€è¦Java 17
   ```

3. **é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯**
   - ä½¿ç”¨YAMLéªŒè¯å™¨æ£€æŸ¥config.yml
   - æ³¨æ„ç¼©è¿›ï¼ˆä½¿ç”¨ç©ºæ ¼ï¼Œä¸è¦ä½¿ç”¨Tabï¼‰

### é—®é¢˜7ï¼šå†…å­˜ä¸è¶³ï¼ˆOutOfMemoryErrorï¼‰

**ç—‡çŠ¶**ï¼š<br>
æœåŠ¡å™¨å¡é¡¿ï¼Œæ§åˆ¶å°æ˜¾ç¤º `java.lang.OutOfMemoryError`

**è§£å†³æ–¹æ¡ˆ**ï¼š

> è¯¦æƒ…è§ï¼š[å¯åŠ¨è„šæœ¬å…¥é—¨](/guide/ji-chu-zhi-shi-xue-xi/startup/)

1. **å¢åŠ å†…å­˜åˆ†é…**
   ```bash
   # ä¿®æ”¹å¯åŠ¨è„šæœ¬
   java -Xms1G -Xmx2G -jar BungeeCord.jar
   ```

2. **ä¼˜åŒ–JVMå‚æ•°**
   ```bash
   java -Xms512M -Xmx1G \
     -XX:+UseG1GC \
     -XX:G1HeapRegionSize=4M \
     -XX:+UnlockExperimentalVMOptions \
     -XX:+ParallelRefProcEnabled \
     -XX:+AlwaysPreTouch \
     -jar BungeeCord.jar
   ```

### é—®é¢˜8ï¼šæ’ä»¶æ— æ³•åŠ è½½

**ç—‡çŠ¶**ï¼š<br>
è¦ä¹ˆå°±æ˜¯æ’ä»¶æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­ä½†æœªå¯ç”¨ï¼Œè¦ä¹ˆå°±æ˜¯æ§åˆ¶å°æ˜¾ç¤ºé”™è¯¯

**æ’æŸ¥æ­¥éª¤**ï¼š

1. **æ£€æŸ¥æ’ä»¶æ˜¯å¦å…¼å®¹**
   - BungeeCordæ’ä»¶åªèƒ½ç”¨äºBungeeCord
   - Bukkit/Spigotæ’ä»¶åªèƒ½ç”¨äºå­æœ

2. **æ£€æŸ¥ä¾èµ–**
   - æŸäº›æ’ä»¶éœ€è¦å‰ç½®æ’ä»¶ï¼ˆå¦‚ProtocolLibï¼‰

3. **æŸ¥çœ‹å¯åŠ¨æ—¥å¿—**
   ```
   [WARN] Exception encountered when loading plugin: XXX
   ```

4. **æ›´æ–°æ’ä»¶ç‰ˆæœ¬**
   - ä½¿ç”¨ä¸æœåŠ¡å™¨ç‰ˆæœ¬åŒ¹é…çš„æ’ä»¶ç‰ˆæœ¬

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### BungeeCordæ€§èƒ½ä¼˜åŒ–åŠæ³•

::: steps

1. **ä½¿ç”¨ä¼˜åŒ–è¿‡åçš„JVMå¯åŠ¨å‚æ•°**ï¼Œä¾‹å¦‚ï¼š

    ```bash
    java -Xms512M -Xmx1G \
      -XX:+UseG1GC \
      -XX:+ParallelRefProcEnabled \
      -XX:MaxGCPauseMillis=200 \
      -XX:+UnlockExperimentalVMOptions \
      -XX:+DisableExplicitGC \
      -XX:+AlwaysPreTouch \
      -XX:G1NewSizePercent=30 \
      -XX:G1MaxNewSizePercent=40 \
      -XX:G1HeapRegionSize=8M \
      -XX:G1ReservePercent=20 \
      -XX:G1HeapWastePercent=5 \
      -XX:G1MixedGCCountTarget=4 \
      -XX:InitiatingHeapOccupancyPercent=15 \
      -XX:G1MixedGCLiveThresholdPercent=90 \
      -XX:G1RSetUpdatingPauseTimePercent=5 \
      -jar BungeeCord.jar
    ```

2. **ç½‘ç»œä¼˜åŒ–**

    ç¼–è¾‘ `config.yml`ï¼š

    ```yaml title="config.yml"
    # å‹ç¼©é˜ˆå€¼ï¼ˆå­—èŠ‚ï¼‰- è¾ƒå¤§çš„å€¼å‡å°‘CPUä½¿ç”¨
    network_compression_threshold: 256

    # è¿æ¥è¶…æ—¶ - æ ¹æ®ç½‘ç»œæƒ…å†µè°ƒæ•´
    timeout: 30000

    # è¿æ¥èŠ‚æµ - é˜²æ­¢DOSæ”»å‡»
    connection_throttle: 4000
    connection_throttle_limit: 3
    ```

3. **ä¸è¦ä¹±å¡æ’ä»¶**

    é¿å…å®‰è£…è¿‡å¤šæ’ä»¶ï¼Œæ¯ä¸ªæ’ä»¶éƒ½ä¼šæ¶ˆè€—èµ„æºã€‚åªå®‰è£…å¿…éœ€çš„æ ¸å¿ƒæ’ä»¶ã€‚

:::

### å­æœåŠ¡å™¨æ€§èƒ½ä¼˜åŒ–

::: steps

1. **ä½¿ç”¨Paperè€ŒéSpigot**

    Paperæ˜¯Spigotçš„é«˜æ€§èƒ½åˆ†æ”¯ï¼ŒåŒ…å«å¤§é‡ä¼˜åŒ–ã€‚

2. **ä¼˜åŒ–Paperé…ç½®**

    ç¼–è¾‘ `paper-world-defaults.yml`ï¼š

    ```yaml title="paper-world-defaults.yml"
    # å®ä½“ä¼˜åŒ–
    entities:
      spawning:
        # å‡å°‘ç”Ÿç‰©ç”Ÿæˆ
        monster-spawn-max-light-level: 0
        
      behavior:
        # ç¦ç”¨è¿œè·ç¦»å®ä½“AI
        disable-mob-spawner-spawn-egg-transformation: true

    # åŒºå—ä¼˜åŒ–
    chunks:
      # è‡ªåŠ¨ä¿å­˜é—´éš”ï¼ˆtickï¼‰
      auto-save-interval: 6000
      
      # æœ€å¤§è‡ªåŠ¨ä¿å­˜åŒºå—æ•°
      max-auto-save-chunks-per-tick: 24

    # æ€§èƒ½ä¼˜åŒ–
    misc:
      # å‡å°‘ç‰©å“åˆå¹¶æ—¶é—´
      item-merge-radius: 3.5
      
      # å‡å°‘ç»éªŒçƒåˆå¹¶æ—¶é—´
      experience-merge-radius: 4.0
    ```

3. **è§†è·ä¼˜åŒ–**

    ```properties title="server.properties"
    view-distance=6  # é™ä½è§†è·ä»¥æå‡æ€§èƒ½
    simulation-distance=4
    ```

4. **ä½¿ç”¨ä¼˜åŒ–æ’ä»¶**

    è‡ªè¡Œæœç´¢æœåŠ¡å™¨ä¼˜åŒ–æ’ä»¶ï¼Œè¿™é‡Œä¸åšåˆ—ä¸¾ã€‚

:::

### æ•°æ®åº“ä¼˜åŒ–

å¦‚æœä½¿ç”¨MySQLå­˜å‚¨æ•°æ®ï¼š

::: steps

1. **ä¼˜åŒ–MySQLé…ç½®**

    ç¼–è¾‘ `my.cnf`ï¼š

    ```ini title="my.cnf"
    [mysqld]
    # InnoDBç¼“å†²æ± å¤§å°ï¼ˆå¯ç”¨å†…å­˜çš„50-70%ï¼‰
    innodb_buffer_pool_size = 2G

    # è¿æ¥æ•°
    max_connections = 200

    # æŸ¥è¯¢ç¼“å­˜
    query_cache_size = 64M
    query_cache_limit = 2M

    # äºŒè¿›åˆ¶æ—¥å¿—
    expire_logs_days = 7
    ```

2. **ä½¿ç”¨è¿æ¥æ± **

    åœ¨æ’ä»¶é…ç½®ä¸­å¯ç”¨è¿æ¥æ± ï¼š

    ```yaml
    # LuckPermsé…ç½®
    data:
      pool-settings:
        maximum-pool-size: 10
        minimum-idle: 10
        maximum-lifetime: 1800000
        connection-timeout: 5000
    ```

:::

### ç½‘ç»œæ¶æ„ä¼˜åŒ–

::: steps

1. æœåŠ¡å™¨åœ°ç†ä½ç½®

    - é€‰æ‹©é è¿‘ç›®æ ‡ç©å®¶çš„æœåŠ¡å™¨ä½ç½®
    - è€ƒè™‘ä½¿ç”¨CDNåŠ é€Ÿ

2. ä¸“ç”¨ç½‘ç»œ

    - å¦‚æœä»£ç†å’Œå­æœåœ¨ä¸åŒæœºå™¨ä¸Šï¼Œä½¿ç”¨å†…ç½‘è¿æ¥
    - é¿å…é€šè¿‡å…¬ç½‘ä¼ è¾“å†…éƒ¨æ•°æ®

    ```yaml title="config.yml"
    servers:
      lobby:
        address: 10.0.0.2:25565  # ä½¿ç”¨å†…ç½‘IP
    ```

## å®‰å…¨æ³¨æ„äº‹é¡¹ <Badge type="important" text="é‡è¦" />

### 1. IPè½¬å‘å®‰å…¨

==å¦‚æœé…ç½®ä¸å½“ï¼ŒæŸäº›æ¶æ„ç©å®¶å°±å¯èƒ½**ä¼ªé€ IPåœ°å€**ã€‚=={.danger}ä½ å¯ä»¥è¿™æ ·é…ç½®æ¥é¿å…è¿™ç§é£é™©ï¼š

**BungeeCordæ¨¡å¼**ï¼š

```yaml
# BungeeCord config.yml
ip_forward: true
```

```yaml
# Paperé…ç½®
proxies:
  bungee-cord:
    online-mode: true
```

**å¹¶ä¸”å¿…é¡»**ï¼šé˜²ç«å¢™é˜»æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®å­æœç«¯å£ï¼

```bash
# Linuxé˜²ç«å¢™è§„åˆ™
# åªå…è®¸ä»£ç†æœåŠ¡å™¨IPè®¿é—®å­æœç«¯å£
sudo ufw allow from 10.0.0.1 to any port 25565
sudo ufw deny 25565
```

**Velocityæ¨¡å¼**ï¼š

ä½¿ç”¨modernè½¬å‘æ¨¡å¼æ›´å®‰å…¨ï¼š

```toml
# velocity.toml
player-info-forwarding-mode = "modern"
forwarding-secret = "strong-random-secret-key"
```

### 2. é˜²ç«å¢™é…ç½®

ä½ éœ€è¦æ˜ç¡®çš„==**åŸºæœ¬åŸåˆ™**==æ˜¯ğŸ‘‡ğŸ‘‡ğŸ‘‡

::: card title="åŸºæœ¬åŸåˆ™"
**åªå¼€æ”¾ä»£ç†æœåŠ¡å™¨ç«¯å£**ï¼ˆå¦‚`25577`ï¼‰ï¼Œ**å­æœåŠ¡å™¨ç«¯å£ä¸å¯¹å¤–å¼€æ”¾**ï¼Œä»¥åŠè®°å¾—ç”¨ä½¿ç”¨ç™½åå•IPè®¿é—®
:::

#### Linuxï¼ˆUFWï¼‰é…ç½®

```bash
# é»˜è®¤æ‹’ç»æ‰€æœ‰è¿æ¥
sudo ufw default deny incoming
sudo ufw default allow outgoing

# å…è®¸SSH
sudo ufw allow ssh

# å…è®¸BungeeCordç«¯å£
sudo ufw allow 25577/tcp

# æ‹’ç»å­æœç«¯å£ï¼ˆå¤–éƒ¨è®¿é—®ï¼‰
sudo ufw deny 25565/tcp
sudo ufw deny 25566/tcp

# å¦‚æœä»£ç†å’Œå­æœåœ¨ä¸åŒæœºå™¨ï¼Œå…è®¸ç‰¹å®šIP
sudo ufw allow from ä»£ç†æœåŠ¡å™¨IP to any port 25565

# å¯ç”¨é˜²ç«å¢™
sudo ufw enable
```

#### Windowsé˜²ç«å¢™é…ç½®

1. æ‰“å¼€â€œé«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™â€
2. æ–°å»ºå…¥ç«™è§„åˆ™
3. è§„åˆ™ç±»å‹ï¼šç«¯å£
4. åè®®ï¼šTCPï¼Œç«¯å£ï¼š25577
5. æ“ä½œï¼šå…è®¸è¿æ¥
6. é…ç½®æ–‡ä»¶ï¼šå…¨éƒ¨å‹¾é€‰
7. åç§°ï¼šBungeeCord

å¯¹å­æœç«¯å£åˆ›å»º**é˜»æ­¢**è§„åˆ™ã€‚

### 3. DDoSé˜²æŠ¤

å¯¹äºDDoSï¼Œæˆ‘ä»¬==æ²¡æœ‰å¤ªå¤šçš„åŠæ³•å»é˜²æŠ¤=={.warning}ï¼Œå› ä¸ºDDoSçš„æœ¬è´¨å°±æ˜¯åˆ©ç”¨å¤§é‡çš„â€œè‚‰é¸½â€å»åˆ¶é€ å¤§é‡çš„è¿æ¥è¯·æ±‚ï¼Œè®©æœåŠ¡å™¨å´©æºƒã€‚ä½†ä¸è¿‡ä½ ä»ç„¶å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šååˆ¶DDoSï¼š

å¯ä»¥åœ¨BungeeCord config.ymlä¸­é…ç½®**è¿æ¥é™åˆ¶**ï¼š

```yaml title="config.yml"
# BungeeCord config.yml
connection_throttle: 4000  # é™åˆ¶åŒä¸€IPçš„è¿æ¥é¢‘ç‡
connection_throttle_limit: 3  # 4ç§’å†…æœ€å¤š3æ¬¡è¿æ¥
```

å½“ç„¶ï¼Œä¹Ÿå¯ä»¥**ä½¿ç”¨TCPShield**ã€‚TCPShieldæ˜¯ä¸“é—¨ä¸ºMinecraftè®¾è®¡çš„DDoSé˜²æŠ¤æœåŠ¡ã€‚

1. æ³¨å†ŒTCPShieldè´¦å·
2. æ·»åŠ ä½ çš„æœåŠ¡å™¨
3. é…ç½®BungeeCordä½¿ç”¨TCPShieldåç«¯
4. æ›´æ–°DNSè®°å½•æŒ‡å‘TCPShield

### 4. å®šæœŸå¤‡ä»½

é…ç½®ä¸€ä¸ªè‡ªåŠ¨å¤‡ä»½è„šæœ¬ï¼š

```bash
#!/bin/bash
# backup.sh

BACKUP_DIR="/backups/minecraft"
DATE=$(date +%Y-%m-%d_%H-%M-%S)

# å¤‡ä»½BungeeCord
tar -czf $BACKUP_DIR/bungeecord_$DATE.tar.gz /path/to/bungeecord

# å¤‡ä»½å­æœ
tar -czf $BACKUP_DIR/lobby_$DATE.tar.gz /path/to/lobby
tar -czf $BACKUP_DIR/survival_$DATE.tar.gz /path/to/survival

# åˆ é™¤7å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -type f -mtime +7 -delete

echo "å¤‡ä»½å®Œæˆ: $DATE"
```

æ·»åŠ åˆ°crontabï¼ˆæ¯å¤©å‡Œæ™¨3ç‚¹æ‰§è¡Œï¼‰ï¼š

```bash
crontab -e
# æ·»åŠ è¿™è¡Œ
0 3 * * * /path/to/backup.sh
```

### 5. æœ€å°æƒé™åŸåˆ™

æœ€é‡è¦çš„æ˜¯ï¼Œ**ä¸è¦ä»¥rootç”¨æˆ·è¿è¡ŒæœåŠ¡å™¨ï¼ï¼ï¼**<br>
è¿˜æœ‰åˆ«å¿˜äº†ä¸ºæ¯ä¸ªæœåŠ¡åˆ›å»ºä¸“ç”¨ç”¨æˆ·ï¼Œé™åˆ¶æ–‡ä»¶ç³»ç»Ÿè®¿é—®æƒé™

```bash
# åˆ›å»ºä¸“ç”¨ç”¨æˆ·
sudo useradd -m -s /bin/bash minecraft

# ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…
sudo chown -R minecraft:minecraft /path/to/servers

# é™åˆ¶æƒé™
chmod 750 /path/to/servers
```

### 6. ä¿æŒæ›´æ–°

- å®šæœŸæ›´æ–°BungeeCord/Velocity
- æ›´æ–°Paper/Spigotåˆ°æœ€æ–°ç‰ˆæœ¬
- æ›´æ–°æ’ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬
- åŠæ—¶åº”ç”¨å®‰å…¨è¡¥ä¸

### 7. æ—¥å¿—ç›‘æ§

å¯ç”¨å¹¶å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼š

```yaml
# config.yml
log_commands: true  # è®°å½•ç©å®¶å‘½ä»¤
log_pings: false    # ä¸è®°å½•pingï¼ˆå‡å°‘æ—¥å¿—é‡ï¼‰
```

ä½¿ç”¨æ—¥å¿—åˆ†æå·¥å…·æ£€æµ‹å¼‚å¸¸è¿™ä¸‰ä¸ªæ–¹é¢ï¼š
- å¼‚å¸¸å¤§é‡çš„è¿æ¥å°è¯•
- é‡å¤çš„é”™è¯¯ä¿¡æ¯
- å¯ç–‘çš„å‘½ä»¤æ‰§è¡Œ

## æ€»ç»“

æ­å–œä½ ï¼\o/\o/\o/\o/ ä½ å·²ç»å­¦ä¼šäº†ï¼š

- [x] ä»€ä¹ˆæ˜¯ç¾¤ç»„æœåŠå…¶å·¥ä½œåŸç†  
- [x] BungeeCordå’ŒVelocityçš„åŒºåˆ«  
- [x] å¦‚ä½•æ­å»ºåŸºç¡€çš„ç¾¤ç»„æœç½‘ç»œ  
- [x] å¸¸è§é…ç½®å’Œæ’ä»¶ä½¿ç”¨  
- [x] æ€§èƒ½ä¼˜åŒ–å’Œå®‰å…¨é˜²æŠ¤

æ¥ä¸‹æ¥ä½ å°±å¯ä»¥å¼€å§‹å°è¯•å­¦ä¹ è¿™äº›æ–¹é¢ï¼š

:::: card-grid
::: card title="æ’ä»¶å¼€å‘"
   - å­¦ä¹ BungeeCord API
   - å¼€å‘è‡ªå®šä¹‰è·¨æœåŠŸèƒ½
   - å®ç°æ•°æ®åŒæ­¥æœºåˆ¶
:::
::: card title="é«˜çº§æ¶æ„"
   - Redisæ¶ˆæ¯é˜Ÿåˆ—
   - è´Ÿè½½å‡è¡¡
   - åŠ¨æ€æ‰©å®¹
:::
::: card title="è¿ç»´è‡ªåŠ¨åŒ–"
   - Dockerå®¹å™¨åŒ–éƒ¨ç½²
   - ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ
   - è‡ªåŠ¨åŒ–è¿ç»´è„šæœ¬
:::
::: card title="å•†ä¸šåŒ–è¿è¥"
   - ç©å®¶ç•™å­˜ç­–ç•¥
   - ç›ˆåˆ©æ¨¡å¼è®¾è®¡
   - ç¤¾åŒºå»ºè®¾
:::
::::

*å®¢å¥—ä¸€ä¸‹æ€»è¡Œå§ï¼Ÿç¥ä½ å¥½è¿ï¼*