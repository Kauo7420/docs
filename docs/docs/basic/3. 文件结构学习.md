---
title: 文件结构学习
icon: solar:book-bold
createTime: 2026/02/05 00:28:16
permalink: /docs/basic/structure/
foo: foo
---

每当你第一次打开服务器文件夹时，就可能会看到许多陌生的文件和文件夹，感到不知所措（~~没人会救你~~）……别担心，这份教程将带你逐一了解每个文件和文件夹的作用，让你能够自信地管理自己的服务器。

废话不多说，直接进入主题：

### 本教程的结构

本教程将按照以下顺序讲解：
1. 服务器根目录
2. 核心配置文件
3. 重要文件夹
4. 进阶文件和目录
5. 实用技巧和注意事项

另外值得注意的是，本教程采用新的标题命名格式，一共分为**六大部分**来进行讲解。

## 第一部分：服务器根目录

当你==第一次启动 Minecraft 服务器==后，就会在服务器文件夹中看到以下内容：

::: file-tree

- 我的服务器
    - server.jar              # 服务器核心程序
    - eula.txt                # 用户协议文件
    - server.properties       # 主配置文件
    - server.icon.png         # 服务器图标（可选）
    - banned-ips.json         # IP封禁列表
    - banned-players.json     # 玩家封禁列表
    - ops.json                # 管理员列表
    - whitelist.json          # 白名单列表
    - usercache.json          # 玩家缓存信息
    - world/                  # 主世界文件夹
    - world_nether/           # 下界文件夹
    - world_the_end/          # 末地文件夹
    - logs/                   # 日志文件夹
    - plugins/                # 插件文件夹（Bukkit/Spigot/Paper）
    - mods/                   # 模组文件夹（Forge/Fabric）
    - config/                 # 配置文件夹
    - libraries/              # 依赖库文件夹

:::

::: tip
不要被这么多文件吓到！你不需要一次性理解所有内容。现在我们会从最重要的文件开始，逐步学习啦~
:::

## 第二部分：核心配置文件

### 2.1 server.jar - 服务器核心程序

**这是什么？**

server.jar就是服务器核心（服务端）的jar文件^（当然也有可能是其他名字，一般都是以jar后缀名结尾）^，是服务器的核心程序文件，它就相当于服务器的"大脑"。当你==用命令行启动它==时，你的 Minecraft 服务器就会开始运行。

**文件类型：** Java 可执行文件（.jar）

**作用：**

包含服务器运行所需的所有核心代码，以及处理玩家连接、世界生成、游戏逻辑等

**注意事项：**
- 不要删除这个文件，否则服务器无法运行！
- 更新服务器时，通常是替换这个文件为新版本
- 不同类型的服务器（Vanilla、Spigot、Paper、Forge）使用不同的 jar 文件

**实际示例：**
```
# 这里仿照了不同MC核心的版本号命名方式来取名：

Vanilla（原版）服务器：server.jar
Spigot服务器：spigot-1.20.1.jar
Paper服务器：paper-1.20.1-196.jar
Forge服务器：forge-1.20.1-47.2.0.jar
```

---

### 2.2 eula.txt - 最终用户许可协议

**这是什么？**

EULA 是 "End User License Agreement"（最终用户许可协议）的缩写。这是 Mojang（Minecraft 的开发商）==要求所有服务器所有者同意的**法律文件**==。

**文件内容示例：**
```
#By changing the setting below to TRUE you are indicating your agreement to our EULA (https://aka.ms/MinecraftEULA).
eula=false
```

**如何使用：**
1. 第一次启动服务器时，这个文件会自动生成
2. 将 `eula=false` 改为 `eula=true`
3. 保存文件后，服务器才能正常启动

**重要说明：**<Badge type="important" text="重要" />

如果不同意协议的话，服务器就会拒绝启动，因为这是法律要求，不是可选项。==如果你还没有了解过EULA的话，还是建议去了解一下==，因为它存在存在一些对**离线服务器**的规定……

---

### 2.3 server.properties - 主配置文件

**这是什么？**<br>
这是服务器最重要的配置文件，==包含了几乎所有服务器设置==。从游戏模式到难度，从世界类型到玩家数量上限，都在这里配置。

**文件格式：**
这是一个简单的文本文件，每一行都是一个设置项，格式为：`设置名=设置值`

**（基础设置）**

```properties title="server.properties"
# 服务器名称（在服务器列表中显示）
motd=欢迎来到我的Minecraft服务器！

# 服务器端口（默认25565）
server-port=25565

# 服务器IP（通常留空，除非你有多个IP地址）
server-ip=
```

::: note
- `motd` 可以使用颜色代码，例如 `&1` `&a` 等等，它可以让服务器名称更醒目
- 如果要在同一台电脑上运行多个服务器，就需要使用不同的端口（比如服务器一用`25565`端口，服务器二用`32767`端口），因为相同的端口会冲突
:::

**（游戏设置）**

```properties title="server.properties"
# 游戏模式（survival=生存，creative=创造，adventure=冒险，spectator=旁观）
gamemode=survival

# 强制游戏模式（true=强制所有玩家使用上述模式）
force-gamemode=false

# 难度（peaceful=和平，easy=简单，normal=普通，hard=困难）
difficulty=normal

# 是否允许作弊指令
enable-command-block=false

# 是否开启PVP（玩家对战）
pvp=true

# 是否允许飞行
allow-flight=false
```

**（世界设置）**

```properties title="server.properties"
# 世界名称（对应文件夹名）
level-name=world

# 世界种子（留空则随机生成）
level-seed=

# 世界类型（default=默认，flat=超平坦，large_biomes=巨型生物群系）
level-type=default

# 是否生成结构（村庄、神殿等）
generate-structures=true

# 最大建筑高度
max-build-height=256
```

**level-type（世界类型）：**
- `default`：普通的 Minecraft 世界，有山脉、平原、海洋等
- `flat`：完全平坦的世界，适合建筑或小游戏
- `large_biomes`：生物群系范围更大的世界
- `amplified`：地形会更加夸张、高耸（需要更好的电脑性能）

**（性能设置）**

```properties title="server.properties"
# 最大玩家数
max-players=20

# 视距（玩家能看到多远，2-32之间）
view-distance=10

# 模拟距离（影响实体活动范围）
simulation-distance=10

# 网络压缩阈值（-1=禁用压缩）
network-compression-threshold=256
```

::: warning
`view-distance` 每增加 1，服务器负担会显著增加，对于配置较低的服务器，建议把范围数值控制在 6-8 之间
:::

**（安全设置）**

```properties title="server.properties"
# 是否开启白名单
white-list=false

# 是否开启在线验证（正版验证）
online-mode=true

# 防止代理连接
prevent-proxy-connections=false

# 是否隐藏在线玩家
hide-online-players=false
```

::: note
- `online-mode` 如果设置为 `true` 就会只允许正版玩家进入，如果你的服务器玩家都没有正版账号的话，就不要开，或者换第三方验证方式（如皮肤站登录、MC统一通行证等）
- `white-list` 如果设置为 `true` 就会只允许白名单内的玩家进入，你可以根据实际需求来调整这个设置项，比如如果要服务器保持私密状态，就可以开启
:::

---

### 2.4 server.icon.png - 服务器图标

**这是什么？**<br>
这是个==服务器图标文件==，需要你==手动放置改名==之后才会有。服务器图标也是玩家在多人游戏服务器列表中看到的图片。

**图标要求：**
- 文件格式：PNG
- 图片尺寸：64×64 像素
- 文件名：必须是 `server-icon.png`

**如何设置：**
1. 准备一张 64×64 的 PNG 图片
2. 重命名为 `server-icon.png`
3. 放在服务器根目录
4. 重启服务器

==图片太大或格式不对都不会显示=={.warning}，太小不会不显示，只是会模糊些

::: note
如果没有这个文件，服务器就会显示默认图标
:::

---

### 2.5 玩家管理文件（JSON 格式）

这是一个比较笼统性的说法，这里指代==大部分跟玩家数据相关的文件==，而这些文件均使用 JSON 格式存储数据，看起来像这样：
```json
[
  {
    "uuid": "玩家的唯一标识符",
    "name": "玩家名称"
  }
]
```

这里我们分不同的文件进行分类讲解：

::: steps

1. **ops.json - 管理员列表**

    **作用：**一般用于存储服务器管理员（OP）信息，例如
    ```json title="ops.json"
    [
      {
        "uuid": "069a79f4-44e9-4726-a5be-fca90e38aaf5",
        "name": "Steve",
        "level": 4,
        "bypassesPlayerLimit": false
      }
    ]
    ```

    **level（权限等级）：**
    - `1`：可以在spawn保护区修改方块
    - `2`：可以使用作弊指令（/give, /tp等）
    - `3`：可以使用玩家管理指令（/kick, /ban等）
    - `4`：可以使用所有指令（/stop, /op等）

    **如何添加管理员？**
    1. 在游戏中使用指令：`/op 玩家名`
    2. 或手动编辑 ops.json 文件

2. **whitelist.json - 白名单文件**

    **作用：**用于储存白名单玩家列表。当你给服务器启用白名单时，只有列表中的玩家能进入服务器。

    **如何使用：**
    1. 在 server.properties 中设置 `white-list=true`
    2. 使用指令添加玩家：`/whitelist add 玩家名`
    3. 或者手动编辑 whitelist.json

3. **banned-players.json - 玩家封禁列表**

    **作用：**储存被封禁的玩家名列表，被封禁的玩家是无法进入服务器的。

    **如何封禁玩家：**
    ```
    /ban 玩家名 原因
    ```

    **如何解除封禁：**
    ```
    /pardon 玩家名
    ```

4. **banned-ips.json - IP 封禁列表**

    **作用：**储存被封禁的IP列表，如果玩家IP地址与封禁IP列表中的其中一个IP地址相吻合，那么这名玩家就无法进入服务器。

    **如何封禁 IP：**
    ```
    /ban-ip IP地址
    ```

    ::: warning
    IP 封禁更严格，会阻止该 IP 的所有连接，小心不要误封自己或朋友的 IP！
    :::

5. **usercache.json - 玩家缓存**

    **作用：**缓存玩家的用户名和 UUID 对应关系
    
    ::: warning
    虽然说删掉是可以自动重建的，但是删掉可能会让服务器的离线玩家的 UUID 数据变动，数据不一，进而导致玩家数据丢失！
    :::

:::

## 第三部分：重要文件夹

### 3.1 world/ - 主世界文件夹

**这是什么？**<br>
这是主世界存档文件夹，==包含了一个世界的所有数据==，包括地形、建筑、箱子里的物品、玩家的背包等等。

**文件夹结构：**

::: file-tree

- world
  - region/              # 地形数据（区块文件）
  - data/                # 世界数据（数据包、结构等）
  - playerdata/          # 玩家数据（位置、背包、经验等）
  - poi/                 # 兴趣点数据（村民的床、工作站等）
  - entities/            # 实体数据
  - DIM-1/               # 下界数据（旧版本）
  - DIM1/                # 末地数据（旧版本）
  - level.dat            # 世界核心数据文件
  - session.lock         # 会话锁文件
- world_nether/ # 下界世界文件夹
- world_the_end/ # 末地世界文件夹

:::

::: note
值得注意的一点是，在某些服务器版本中，下界和末地的文件夹并没有存放在world文件夹内，而是被单独划分出来：`world_nether`、`world_the_end`，这个在下面会讲到
:::

这还没完，还有更多细节没讲完呢：

::: steps

1. **region/ - 区块文件夹**

    **作用：**存储世界的实际地形数据

    **技术细节：**<br>
    Minecraft会把世界分成 16×16×256 的区块（Chunk），每个区块包含方块、光照等信息，数据文件格式就是 `.mca`（Minecraft Anvil）

    **为什么重要：**
    - 这是世界最核心的数据
    - 删除 region 文件夹 = 删除整个世界地形
    - 文件损坏会导致区块错误或世界无法加载

    **文件命名规则：**
    ```
    r.0.0.mca    # 坐标 (0, 0) 的区域文件
    r.-1.2.mca   # 坐标 (-1, 2) 的区域文件
    ```

2. **playerdata/ - 玩家数据**

    **作用：** 存储每个玩家的个人数据

    **包含信息：**
    - 背包物品
    - 装备（盔甲、手持物品）
    - 经验值和等级
    - 生命值和饥饿值
    - 当前位置
    - 状态效果

    **文件格式：**
    ```
    069a79f4-44e9-4726-a5be-fca90e38aaf5.dat  # 以玩家UUID命名
    ```

    ::: tip
    记得定期备份这个文件夹，防止玩家数据丢失；玩家数据损坏的时候，删除对应的 .dat 文件就可以让玩家“恢复出厂设置”（但会失去所有物品）
    :::

3. **data/ - 世界数据**

    **作用：** 存储各种世界相关的数据

    **常见内容：**
    
    ::: file-tree

    - data
      - raids.dat           # 袭击数据
      - map_*.dat           # 地图物品数据
      - villages.dat        # 村庄数据（旧版本）
      - scoreboard.dat      # 记分板数据
      - command_storage_*.dat  # 命令存储数据
    
    :::

    **数据包（Datapacks）：**如果安装了数据包，也会在这里，数据包可以修改游戏玩法、添加新配方等

4. **level.dat - 世界核心文件**

    **作用：** 存储世界的基本信息和设置

    **包含信息：**
    - 世界名称和种子
    - 游戏规则
    - 世界出生点
    - 游戏时间和天气
    - 世界版本信息

    ::: info
    这是最重要的单个文件之一，如果损坏，会导致世界无法加载！除此之外，游戏还会自动创建备份文件（level.dat_old）
    :::

:::

### 3.2 world_nether/ 和 world_the_end/ - 下界和末地

**这是什么？**<br>
在某些服务器版本中，下界（Nether）和末地（The End）维度会有独立的文件夹。

**它们分别是：**
- `world_nether/`：存储**下界**的所有数据
- `world_the_end/`：存储**末地**的所有数据

::: note
较新版本的服务器会将下界和末地数据存储在主世界文件夹的 `DIM-1/` 和 `DIM1/` 子文件夹中，而删除这些文件夹会重置对应的维度
:::

---

### 3.3 logs/ - 日志文件夹

**这是什么？**<br>
这是日志文件夹，==存储服务器运行的所有日志记录==，是排查问题的好东西。

**文件结构：**

::: file-tree

- logs
  - latest.log          # 当前运行的日志
  - 2026-01-01-1.log.gz # 历史日志（压缩格式）
  - 2026-01-02-1.log.gz
  - ……

:::

> 详情见：[日志入门](/guide/ji-chu-zhi-shi-xue-xi/logs/)

---

### 3.4 plugins/ - 插件文件夹（Bukkit/Spigot/Paper）

**这是什么？**<br>
如果你使用的是 Bukkit、Spigot 或 Paper 服务器，这个文件夹用于存放插件。

**文件夹结构：**

::: file-tree

- plugins
  - EssentialsX.jar         # 插件主文件
  - WorldEdit.jar
  - LuckPerms.jar
  - Essentials             # 插件配置文件夹
    - config.yml
    - ……
  - WorldEdit
    - config.yml
  - LuckPerms
    - config.yml

:::

> 详情见：[插件/模组入门](/guide/ji-chu-zhi-shi-xue-xi/plugin/)

---

### 3.5 mods/ - 模组文件夹（Forge/Fabric）

**这是什么？**<br>
如果你使用的是 Forge 或 Fabric 服务器，这个文件夹用于存放模组。

**如何安装模组：**
1. 下载与服务器版本和加载器（Forge/Fabric）兼容的模组
2. 将 .jar 文件放入 `mods/` 文件夹
3. 重启服务器

::: note
客户端也需要安装相同的模组才能进入服务器，如果是纯服务端模组（Server-only mods）则不需要客户端安装
:::

---

### 3.6 config/ - 配置文件夹

**这是什么？**<br>
这是配置文件的存放点，一般是Paper服务器才有的东西。但如果是模组服，则某些模组就会将配置文件单独存放在这个文件夹中。

**常见内容：**

::: file-tree

- config
  - paper-global.yml # Paper服务器配置
  - paper-world-defaults.yml # Paper服务器配置

:::

**重要配置文件：**

（bukkit.yml）
```yaml title="bukkit.yml"
settings:
  allow-end: true          # 是否启用末地
  warn-on-overload: true   # 负载过高时警告
  spawn-limits:            # 生物生成限制
    monsters: 70
    animals: 10
```

（spigot.yml）
```yaml title="spigot.yml"
settings:
  save-user-cache-on-stop-only: false
world-settings:
  default:
    view-distance: 10      # 视距设置
    mob-spawn-range: 8     # 生物生成范围
```

---

### 3.7 libraries/ - 依赖库文件夹

**这是什么？**<br>
存储服务器运行所需的 Java 库文件。

**文件夹结构：**

::: file-tree

- libraries
  - com/
  - io/
  - net/
  - org
    - 各种Java库文件……

:::

## 第四部分：进阶文件和目录

### 4.1 cache/ - 缓存文件夹

**作用：**存储临时缓存数据，加快服务器运行速度

**可以删除吗？** 

你当然可以删除这个文件夹，而且是安全地删除，反正删除后它还会自动重新生成，比较适合在遇到某些奇怪问题时删除

---

### 4.2 versions/ - 版本文件夹

**作用：**存储不同版本的服务器文件

**内容：**不同版本的 Minecraft 服务器核心

---

### 4.3 crash-reports/ - 崩溃报告

**这是什么？**<br>
仅当服务器崩溃时，才会在这里生成详细的崩溃日志报告。

**文件格式：**

::: file-tree

- crash-reports
  - crash-2024-01-01_12.34.56-server.txt
  - ……

:::

**一份报告大改长这样：**
```
---- Minecraft Crash Report ----
// I'm sorry, Dave.

Time: 2024-01-01 12:34:56
Description: Exception in server tick loop

java.lang.NullPointerException: Cannot invoke method...
```

## 第五部分：文件管理

### 5.1 备份策略

**哪些需要备份？**

:::: card-grid
::: card title="必须备份"
1. **world/** 文件夹（整个世界数据）
2. **plugins/** 或 **mods/** 文件夹
3. **配置文件**（server.properties、plugin 配置等）
:::
::: card title="可选备份"
1. logs/ 文件夹（如果需要保留历史记录）
2. 玩家管理文件（ops.json、whitelist.json 等）
:::
::::

**备份频率：**<br>
- 每天自动备份（可以使用备份插件或脚本）一次
- 重大更新前手动备份一次
- 安装新插件/模组前手动备份一次 <Badge type="info" text="可选" />

**备份方法：**

::: steps

1. **方法一：手动复制**

    1. 停止服务器
    2. 复制整个服务器文件夹
    3. 重命名为 `服务器备份_2024-01-01`
    4. 保存到安全位置

2. **方法二：使用备份插件**

    例如：WorldGuard、BackupPlugin 可以设置自动定时备份，支持增量备份（只备份改变的部分），操作方法这里不做详解，请自行查阅插件文档

:::

---

### 5.2 文件权限和安全

**Linux 服务器权限设置：**

```bash
# 设置服务器文件夹权限
chmod -R 755 /path/to/server

# 设置配置文件只读（防止意外修改）
chmod 444 server.properties
```

**Windows 服务器：**

右键文件夹 → 属性 → 安全，然后根据实际情况设置用户权限

---

### 5.3 清理和优化

**可以安全删除的文件/文件夹：**

1. **logs/** 中的旧日志文件：保留最近 7-30 天的日志即可，太多旧日志的话就可以删掉，节省空间

2. **cache/** 缓存文件夹：可以完全删除，删了还会有

3. **crash-reports/** 中的旧崩溃报告：问题解决后就可以删了

**（定期清理脚本示例）**
```bash
# 示例：清理 30 天前的日志
find logs/ -name "*.log.gz" -mtime +30 -delete
```

**监控磁盘空间：**

注意，world/ 文件夹会随着跑图探索不断增大，你可以使用插件或软件修剪未访问的区块，例如MCA Selector、WorldBorder等

---

### 5.4 迁移服务器

**如何将服务器移动到新位置？**

**步骤：**
1. 停止当前服务器
2. 复制整个服务器文件夹到新位置
3. 在新位置启动服务器
4. 更新 DNS 或告知玩家新的服务器地址（如果 IP 改变）

::: note
需要留意或重新配置 server.properties 文件中的 `server-ip` 和 `server-port`；如果你服务器使用域名，就记得更新 DNS 记录
:::

**检查清单：**
- [ ] 所有文件都已复制
- [ ] 配置文件检查完成
- [ ] 测试服务器能否正常启动
- [ ] 玩家能否正常连接
- [ ] 插件/模组正常工作
- [ ] 世界数据完整无损

---

### 5.5 版本更新

**更新服务器版本的步骤：**

**准备工作：**
1. **完整备份**整个服务器，以防万一
2. 查看更新日志，了解新版本的变化，~~别到时候觉得新版本不好又反悔了~~
3. 确认所有插件/模组都支持新版本，如果不支持就不着急更新

**更新步骤：**
1. 停止服务器
2. 下载新版本的 server.jar
3. 替换旧的 server.jar
4. 更新插件/模组到兼容版本
5. 启动服务器
6. 检查日志，确认没有错误

**回滚方案：**

如果新版本出现问题，就使用备份恢复，替换回旧版本的服务器核心jar文件

## 第六部分：常见问题解答

### Q1: 我不小心删除了 world 文件夹，怎么办？

**答：**<br>
!!哪个傻子会这么干？!!如果没有备份，世界数据将无法恢复。这也说明了为什么定期备份如此重要。

**预防：**<br>
删除文件前三思而后行……，如果可以的话就设置一个每天自动备份（可以是面板实现，也可以是脚本实现）或者使用版本控制软件（如 Git）

---

### Q2: 服务器文件夹越来越大，如何处理？

**答：**<br>
其他的先别管，你先看看你的主世界存档 world/ 文件夹是不是随着玩家的跑图探索而增大。

**解决方法：**
1. 使用 WorldBorder 插件限制世界大小
2. 使用 MCA Selector 删除未访问的区块
3. 定期清理 logs/ 文件夹
4. 升级硬盘空间

---

### Q3: 如何知道哪个插件/模组导致了服务器卡顿？

**答：**
1. Spark 插件大法好（用Spark插件的性能分析功能）
2. 逐个禁用插件/模组（比如二分法排查），找出问题源
3. 查看日志中的警告信息
4. 使用 `/tps` 命令查看服务器性能

---

### Q4: 配置文件损坏了怎么办？

**答：**
1. 如果有备份的话，就恢复备份的配置文件
2. 可以直接删除损坏的配置文件，让服务器重新生成默认配置的配置文件
3. 对于 YAML 文件，使用在线 YAML 验证器检查语法

---

### Q5: 可以在服务器运行时修改文件吗？

**答：**<br>
**分情况讨论**，这取决于文件类型：

**需要停服修改的：**
- server.properties
- spigot.yml
- bukkit.yml
- paper-global.yml
- paper-world-defaults.yml
- 以及更多服务端（服务器核心）的配置文件……
- world/ 文件夹中的任何文件
- 模组配置

**可以热重载的：**
- 插件配置

::: note
有一部分插件可能不支持热重载，需要重启服务器来加载
:::

## 结语

emmmm没啥好的结语了，因为这些结语都在前面用完了……

好吧，那这里还是说一句：祝你的服务器运营顺利！🎮✨